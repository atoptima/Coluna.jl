<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Valid inequalities · Coluna User Guide</title><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../../">Coluna User Guide</a></span></div><form class="docs-search" action="../../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../../">Introduction</a></li><li><input class="collapse-toggle" id="menuitem-2" type="checkbox" checked/><label class="tocitem" for="menuitem-2"><span class="docs-label">Getting started</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../start/">Column generation</a></li><li class="is-active"><a class="tocitem" href>Valid inequalities</a><ul class="internal"><li><a class="tocitem" href="#Column-generation"><span>Column generation</span></a></li><li><a class="tocitem" href="#Strengthen-with-valid-inequalities"><span>Strengthen with valid inequalities</span></a></li></ul></li><li><a class="tocitem" href="../pricing/">Pricing callback</a></li><li><a class="tocitem" href="../initial_columns/">Initial columns callback</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-3" type="checkbox"/><label class="tocitem" for="menuitem-3"><span class="docs-label">Manual</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../man/decomposition/">Decomposition</a></li><li><a class="tocitem" href="../../man/config/">Configuration</a></li><li><a class="tocitem" href="../../man/algorithm/">Algorithms</a></li><li><a class="tocitem" href="../../man/callbacks/">Callbacks</a></li></ul></li><li><a class="tocitem" href="../../qa/">Q&amp;A</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Getting started</a></li><li class="is-active"><a href>Valid inequalities</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Valid inequalities</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/atoptima/Coluna.jl/blob/master/docs/src/start/cuts.jl" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Valid-inequalities"><a class="docs-heading-anchor" href="#Valid-inequalities">Valid inequalities</a><a id="Valid-inequalities-1"></a><a class="docs-heading-anchor-permalink" href="#Valid-inequalities" title="Permalink"></a></h1><p>Now let us consider a variant of the Generalized Assignment Problem in which we have to pay <code>f[m]</code> to use machine <code>m</code>.</p><p>Consider the following instance:</p><pre><code class="language-julia hljs">J = 1:10
M = 1:5
c = [10.13 15.6 15.54 13.41 17.08;19.58 16.83 10.75 15.8 14.89;14.23 17.36 16.05 14.49 18.96;16.47 16.38 18.14 15.46 11.64;17.87 18.25 13.12 19.16 16.33;11.09 16.76 15.5 12.08 13.06;15.19 13.86 16.08 19.47 15.79;10.79 18.96 16.11 19.78 15.55;12.03 19.03 16.01 14.46 12.77;14.48 11.75 16.97 19.95 18.32];
w = [5, 4, 5, 6, 8, 9, 5, 8, 10, 7];
Q = [25,  24,  31,  28,  24];
f = [105, 103, 109, 112, 100];</code></pre><p>We define the dependencies:</p><pre><code class="language-julia hljs">using JuMP, BlockDecomposition, Coluna, GLPK;</code></pre><p>We parametrize the solver. We solve only the root node of the branch-and-bound tree and we use a column and cut generation algorithm to conquer (optimize) this node.</p><pre><code class="language-julia hljs">coluna = JuMP.optimizer_with_attributes(
    Coluna.Optimizer,
    &quot;params&quot; =&gt; Coluna.Params(
        solver = Coluna.Algorithm.TreeSearchAlgorithm(
            conqueralg = Coluna.Algorithm.ColCutGenConquer(
                max_nb_cut_rounds = 20
            ),
            branchingtreefile = &quot;tree2.dot&quot;,
            maxnumnodes = 1
        )
    ),
    &quot;default_optimizer&quot; =&gt; GLPK.Optimizer
);</code></pre><h2 id="Column-generation"><a class="docs-heading-anchor" href="#Column-generation">Column generation</a><a id="Column-generation-1"></a><a class="docs-heading-anchor-permalink" href="#Column-generation" title="Permalink"></a></h2><p>We write the model:</p><pre><code class="language-julia hljs">model = BlockModel(coluna; direct_model = true);
@axis(M_axis, M)
@variable(model, x[j in J, m in M_axis], Bin);
@variable(model, y[m in M_axis], Bin);
@constraint(model, setpartitioning[j in J], sum(x[j,m] for m in M_axis) == 1);
@constraint(model, knp[m in M_axis], sum(w[j]*x[j,m] for j in J) &lt;= Q[m] * y[m]);
@objective(model, Min, sum(c[j,m] * x[j,m] for m in M_axis, j in J) + sum(f[m] * y[m] for m in M_axis));

@dantzig_wolfe_decomposition(model, dec, M_axis);
sp = getsubproblems(dec);
specify!.(sp, lower_multiplicity = 0);</code></pre><p>We optimize:</p><pre><code class="language-julia hljs">optimize!(model)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">Coluna
Version 0.4.2 | https://github.com/atoptima/Coluna.jl
***************************************************************************************
**** B&amp;B tree root node
**** Local DB = -Inf, global bounds: [ -Inf , Inf ], time = 0.00 sec.
***************************************************************************************
  &lt;it=  1&gt; &lt;et= 0.00&gt; &lt;mst= 0.00&gt; &lt;sp= 0.00&gt; &lt;cols= 5&gt; &lt;al= 0.00&gt; &lt;DB=-129136.2200&gt; &lt;mlp=100000.0000&gt; &lt;PB=Inf&gt;
  &lt;it=  2&gt; &lt;et= 0.01&gt; &lt;mst= 0.00&gt; &lt;sp= 0.00&gt; &lt;cols= 5&gt; &lt;al= 0.00&gt; &lt;DB=-129136.2200&gt; &lt;mlp=30340.5500&gt; &lt;PB=Inf&gt;
  &lt;it=  3&gt; &lt;et= 0.01&gt; &lt;mst= 0.00&gt; &lt;sp= 0.00&gt; &lt;cols= 5&gt; &lt;al= 0.00&gt; &lt;DB=-129068.6700&gt; &lt;mlp=20324.0700&gt; &lt;PB=Inf&gt;
  &lt;it=  4&gt; &lt;et= 0.01&gt; &lt;mst= 0.00&gt; &lt;sp= 0.00&gt; &lt;cols= 5&gt; &lt;al= 0.00&gt; &lt;DB=-123723.0014&gt; &lt;mlp= 4678.6814&gt; &lt;PB=Inf&gt;
  &lt;it=  5&gt; &lt;et= 0.01&gt; &lt;mst= 0.00&gt; &lt;sp= 0.00&gt; &lt;cols= 5&gt; &lt;al= 0.00&gt; &lt;DB=  234.8055&gt; &lt;mlp=  404.9100&gt; &lt;PB=Inf&gt;
  &lt;it=  6&gt; &lt;et= 0.01&gt; &lt;mst= 0.00&gt; &lt;sp= 0.00&gt; &lt;cols= 5&gt; &lt;al= 0.00&gt; &lt;DB=  356.9300&gt; &lt;mlp=  404.9100&gt; &lt;PB=Inf&gt;
  &lt;it=  7&gt; &lt;et= 0.01&gt; &lt;mst= 0.00&gt; &lt;sp= 0.00&gt; &lt;cols= 5&gt; &lt;al= 0.00&gt; &lt;DB=  364.5300&gt; &lt;mlp=  404.7900&gt; &lt;PB=Inf&gt;
  &lt;it=  8&gt; &lt;et= 0.02&gt; &lt;mst= 0.00&gt; &lt;sp= 0.00&gt; &lt;cols= 4&gt; &lt;al= 0.00&gt; &lt;DB=  386.0186&gt; &lt;mlp=  401.1386&gt; &lt;PB=Inf&gt;
  &lt;it=  9&gt; &lt;et= 0.02&gt; &lt;mst= 0.00&gt; &lt;sp= 0.00&gt; &lt;cols= 4&gt; &lt;al= 0.00&gt; &lt;DB=  392.3080&gt; &lt;mlp=  400.0320&gt; &lt;PB=Inf&gt;
  &lt;it= 10&gt; &lt;et= 0.02&gt; &lt;mst= 0.00&gt; &lt;sp= 0.00&gt; &lt;cols= 2&gt; &lt;al= 0.00&gt; &lt;DB=  392.3080&gt; &lt;mlp=  397.7420&gt; &lt;PB=Inf&gt;
  &lt;it= 11&gt; &lt;et= 0.02&gt; &lt;mst= 0.00&gt; &lt;sp= 0.00&gt; &lt;cols= 1&gt; &lt;al= 0.00&gt; &lt;DB=  392.3080&gt; &lt;mlp=  396.9313&gt; &lt;PB=Inf&gt;
  &lt;it= 12&gt; &lt;et= 0.02&gt; &lt;mst= 0.00&gt; &lt;sp= 0.00&gt; &lt;cols= 2&gt; &lt;al= 0.00&gt; &lt;DB=  393.8057&gt; &lt;mlp=  396.7586&gt; &lt;PB=Inf&gt;
  &lt;it= 13&gt; &lt;et= 0.03&gt; &lt;mst= 0.00&gt; &lt;sp= 0.00&gt; &lt;cols= 1&gt; &lt;al= 0.00&gt; &lt;DB=  395.4033&gt; &lt;mlp=  396.6133&gt; &lt;PB=Inf&gt;
  &lt;it= 14&gt; &lt;et= 0.03&gt; &lt;mst= 0.00&gt; &lt;sp= 0.00&gt; &lt;cols= 1&gt; &lt;al= 0.00&gt; &lt;DB=  395.4817&gt; &lt;mlp=  396.4117&gt; &lt;PB=Inf&gt;
  &lt;it= 15&gt; &lt;et= 0.03&gt; &lt;mst= 0.00&gt; &lt;sp= 0.00&gt; &lt;cols= 0&gt; &lt;al= 0.00&gt; &lt;DB=  396.2954&gt; &lt;mlp=  396.2954&gt; &lt;PB=Inf&gt;
[ Info: Column generation algorithm has converged.
[ Info: Running Restricted Master IP heuristic
***************************************************************************************
**** B&amp;B tree node N°-1, parent N°-1, depth 1, 1 untreated node
**** Local DB = 396.2954, global bounds: [ -Inf , 451.2400 ], time = 0.04 sec.
**** Branching constraint: x[4,5]&lt;=0.0
***************************************************************************************
  &lt;it=  1&gt; &lt;et= 0.04&gt; &lt;mst= 0.00&gt; &lt;sp= 0.00&gt; &lt;cols= 2&gt; &lt;al= 0.00&gt; &lt;DB=  396.4125&gt; &lt;mlp=  397.2325&gt; &lt;PB=451.2400&gt;
  &lt;it=  2&gt; &lt;et= 0.04&gt; &lt;mst= 0.00&gt; &lt;sp= 0.00&gt; &lt;cols= 0&gt; &lt;al= 0.00&gt; &lt;DB=  397.2325&gt; &lt;mlp=  397.2325&gt; &lt;PB=451.2400&gt;
[ Info: Column generation algorithm has converged.
[ Info: Running Restricted Master IP heuristic
┌ Warning: Positive participation of record record StaticVarConstrRecord with id=1 part=4 empty
└ @ Coluna.ColunaBase ~/work/Coluna.jl/Coluna.jl/src/ColunaBase/storage.jl:302
┌ Warning: Positive participation of record record PartialSolutionRecord with id=1 part=4 empty
└ @ Coluna.ColunaBase ~/work/Coluna.jl/Coluna.jl/src/ColunaBase/storage.jl:302
┌ Warning: Positive participation of record record MasterBranchConstrsRecord with id=5 part=1 empty
└ @ Coluna.ColunaBase ~/work/Coluna.jl/Coluna.jl/src/ColunaBase/storage.jl:302
┌ Warning: Positive participation of record record MasterBranchConstrsRecord with id=4 part=1 [ 28 27]
└ @ Coluna.ColunaBase ~/work/Coluna.jl/Coluna.jl/src/ColunaBase/storage.jl:306
┌ Warning: Positive participation of record record MasterBranchConstrsRecord with id=2 part=1 [ 26]
└ @ Coluna.ColunaBase ~/work/Coluna.jl/Coluna.jl/src/ColunaBase/storage.jl:306
┌ Warning: Positive participation of record record MasterBranchConstrsRecord with id=3 part=1 [ 27]
└ @ Coluna.ColunaBase ~/work/Coluna.jl/Coluna.jl/src/ColunaBase/storage.jl:306
┌ Warning: Positive participation of record record MasterCutsRecord with id=3 part=3 empty
└ @ Coluna.ColunaBase ~/work/Coluna.jl/Coluna.jl/src/ColunaBase/storage.jl:302
┌ Warning: Positive participation of record record MasterCutsRecord with id=2 part=1 []
└ @ Coluna.ColunaBase ~/work/Coluna.jl/Coluna.jl/src/ColunaBase/storage.jl:306
┌ Warning: Positive participation of record record MasterColumnsRecord with id=3 part=3 empty
└ @ Coluna.ColunaBase ~/work/Coluna.jl/Coluna.jl/src/ColunaBase/storage.jl:302
┌ Warning: Positive participation of record record MasterColumnsRecord with id=2 part=1 [ 101 109 120 132 111 102 105 138 131 100 103 115 107 135 106 96 116 97 137 133 129 124 119 118 126 121 142 130 108 125 122 113 140 114 139 128 94 95 136 93 98 112 117 123 104 141 99 134 127 110]
└ @ Coluna.ColunaBase ~/work/Coluna.jl/Coluna.jl/src/ColunaBase/storage.jl:306
┌ Warning: Positive participation of record record StaticVarConstrRecord with id=1 part=4 empty
└ @ Coluna.ColunaBase ~/work/Coluna.jl/Coluna.jl/src/ColunaBase/storage.jl:302
┌ Warning: Positive participation of record record StaticVarConstrRecord with id=1 part=4 empty
└ @ Coluna.ColunaBase ~/work/Coluna.jl/Coluna.jl/src/ColunaBase/storage.jl:302
┌ Warning: Positive participation of record record StaticVarConstrRecord with id=1 part=4 empty
└ @ Coluna.ColunaBase ~/work/Coluna.jl/Coluna.jl/src/ColunaBase/storage.jl:302
┌ Warning: Positive participation of record record StaticVarConstrRecord with id=1 part=4 empty
└ @ Coluna.ColunaBase ~/work/Coluna.jl/Coluna.jl/src/ColunaBase/storage.jl:302
┌ Warning: Positive participation of record record StaticVarConstrRecord with id=1 part=4 empty
└ @ Coluna.ColunaBase ~/work/Coluna.jl/Coluna.jl/src/ColunaBase/storage.jl:302
 ────────────────────────────────────────────────────────────────────────────────
                                        Time                    Allocations
                               ───────────────────────   ────────────────────────
       Tot / % measured:            3.90s /   3.0%            278MiB /   4.0%

 Section               ncalls     time    %tot     avg     alloc    %tot      avg
 ────────────────────────────────────────────────────────────────────────────────
 Coluna                     1    117ms  100.0%   117ms   11.2MiB  100.0%  11.2MiB
   SolveLpForm             17   5.32ms    4.5%   313μs   1.52MiB   13.5%  91.5KiB
   Update reduced c...     17    737μs    0.6%  43.4μs    735KiB    6.4%  43.2KiB
   Getting primal s...     17    436μs    0.4%  25.7μs    328KiB    2.9%  19.3KiB
   Cleanup columns         17   95.7μs    0.1%  5.63μs   18.4KiB    0.2%  1.08KiB
   Store records            5   81.0μs    0.1%  16.2μs   5.86KiB    0.1%  1.17KiB
   Update Lagrangia...     17   21.3μs    0.0%  1.25μs   2.12KiB    0.0%     128B
   Smoothing update        17   12.9μs    0.0%   759ns   1.33KiB    0.0%    80.0B
   Restore/remove r...      1   11.4μs    0.0%  11.4μs     0.00B    0.0%    0.00B
 ────────────────────────────────────────────────────────────────────────────────
[ Info: Terminated
[ Info: Primal bound: 451.23999999999995
[ Info: Dual bound: 396.29541664666664</code></pre><p>The final dual bound is:</p><pre><code class="language-julia hljs">db1 = objective_bound(model)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">396.29541664666664</code></pre><h2 id="Strengthen-with-valid-inequalities"><a class="docs-heading-anchor" href="#Strengthen-with-valid-inequalities">Strengthen with valid inequalities</a><a id="Strengthen-with-valid-inequalities-1"></a><a class="docs-heading-anchor-permalink" href="#Strengthen-with-valid-inequalities" title="Permalink"></a></h2><p>Let <code>H</code> be the set of configurations of open machines (<code>h[m] = 1</code> if machine m open; <code>0</code> otherwise) such that all jobs can be assigned : <code>sum(h&#39;Q) &gt;= sum(w)</code> i.e. the total capacity of the open machines must exceed the total weight of the jobs.</p><pre><code class="language-julia hljs">H = Vector{Int}[]
for h in digits.(1:(2^length(M) - 1), base=2, pad=length(M))
    if sum(h&#39;Q) &gt;= sum(w)
        push!(H, h)
    end
end
H</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">16-element Vector{Vector{Int64}}:
 [1, 1, 1, 0, 0]
 [1, 1, 0, 1, 0]
 [1, 0, 1, 1, 0]
 [0, 1, 1, 1, 0]
 [1, 1, 1, 1, 0]
 [1, 1, 0, 0, 1]
 [1, 0, 1, 0, 1]
 [0, 1, 1, 0, 1]
 [1, 1, 1, 0, 1]
 [1, 0, 0, 1, 1]
 [0, 1, 0, 1, 1]
 [1, 1, 0, 1, 1]
 [0, 0, 1, 1, 1]
 [1, 0, 1, 1, 1]
 [0, 1, 1, 1, 1]
 [1, 1, 1, 1, 1]</code></pre><p>Let <code>ȳ</code> be the solution to the linear relaxation of the problem. Let us try to express <code>ȳ</code> as a linear expression of the configurations. If <code>ȳ ∈ conv H</code>, we can derive a cut because the optimal integer solution to the problem use one of the configuration of H.</p><p>We need MathOptInterface to define the cut callback:</p><pre><code class="language-julia hljs">using MathOptInterface</code></pre><p>The separation algorithm looks for the non-negative coefficients <code>χ[k]</code>, <code>k = 1:length(H)</code>,  : <code>max sum(χ[k] for k in 1:length(H))</code> such that <code>sum(χ[k]* h for (k,h) in enumerate(H)) &lt;= ̄ȳ</code>. If the objective value is less than 1, we must add a cut.</p><p>Since the separation algorithm is a linear program, strong dualities applies. So we seperate these cuts with the dual.</p><pre><code class="language-julia hljs">fc_sep_m = Model(GLPK.Optimizer)
@variable(fc_sep_m, ψ[m in M] &gt;= 0) # one variable for each constraint
@constraint(fc_sep_m, config_dual[h in H], ψ&#39;h &gt;= 1) # one constraint for each χ[k]
MathOptInterface.set(fc_sep_m, MathOptInterface.Silent(), true)</code></pre><p>The objective is <code>min ȳ&#39;ψ</code> = <code>sum(χ[k] for k in 1:length(H))</code>. Let <code>ψ*</code> be an optimal solution to the dual. If <code>ȳ&#39;ψ* &lt; 1</code>, then <code>ψ*&#39;y &gt;= 1</code> is a valid inequality.</p><pre><code class="language-julia hljs">function fenchel_cuts_separation(cbdata)
    println(&quot;Fenchel cuts separation callback...&quot;)
    ȳ = [callback_value(cbdata, y[m]) for m in M_axis]
    @objective(fc_sep_m, Min, ȳ&#39;ψ) # update objective
    optimize!(fc_sep_m)
    if objective_value(fc_sep_m) &lt; 1
        con = @build_constraint(value.(ψ)&#39;y &gt;= 1) # valid inequality.
        MathOptInterface.submit(model, MathOptInterface.UserCut(cbdata), con)
    end
end

MathOptInterface.set(model, MathOptInterface.UserCutCallback(), fenchel_cuts_separation);</code></pre><p>We optimize:</p><pre><code class="language-julia hljs">optimize!(model)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">Coluna
Version 0.4.2 | https://github.com/atoptima/Coluna.jl
***************************************************************************************
**** B&amp;B tree root node
**** Local DB = -Inf, global bounds: [ -Inf , Inf ], time = 0.00 sec.
***************************************************************************************
  &lt;it=  1&gt; &lt;et= 0.01&gt; &lt;mst= 0.00&gt; &lt;sp= 0.00&gt; &lt;cols= 5&gt; &lt;al= 0.00&gt; &lt;DB=-129136.2200&gt; &lt;mlp=100000.0000&gt; &lt;PB=Inf&gt;
  &lt;it=  2&gt; &lt;et= 0.01&gt; &lt;mst= 0.00&gt; &lt;sp= 0.00&gt; &lt;cols= 5&gt; &lt;al= 0.00&gt; &lt;DB=-129136.2200&gt; &lt;mlp=30340.5500&gt; &lt;PB=Inf&gt;
  &lt;it=  3&gt; &lt;et= 0.01&gt; &lt;mst= 0.00&gt; &lt;sp= 0.00&gt; &lt;cols= 5&gt; &lt;al= 0.00&gt; &lt;DB=-129136.2200&gt; &lt;mlp=20324.0700&gt; &lt;PB=Inf&gt;
  &lt;it=  4&gt; &lt;et= 0.01&gt; &lt;mst= 0.00&gt; &lt;sp= 0.00&gt; &lt;cols= 5&gt; &lt;al= 0.00&gt; &lt;DB=-129136.2200&gt; &lt;mlp=10409.6475&gt; &lt;PB=Inf&gt;
  &lt;it=  5&gt; &lt;et= 0.01&gt; &lt;mst= 0.00&gt; &lt;sp= 0.00&gt; &lt;cols= 5&gt; &lt;al= 0.00&gt; &lt;DB=-116680.1467&gt; &lt;mlp= 3762.3733&gt; &lt;PB=Inf&gt;
  &lt;it=  6&gt; &lt;et= 0.01&gt; &lt;mst= 0.00&gt; &lt;sp= 0.00&gt; &lt;cols= 5&gt; &lt;al= 0.00&gt; &lt;DB=  338.8240&gt; &lt;mlp=  412.3300&gt; &lt;PB=Inf&gt;
  &lt;it=  7&gt; &lt;et= 0.01&gt; &lt;mst= 0.00&gt; &lt;sp= 0.00&gt; &lt;cols= 5&gt; &lt;al= 0.00&gt; &lt;DB=  368.4725&gt; &lt;mlp=  408.4225&gt; &lt;PB=Inf&gt;
  &lt;it=  8&gt; &lt;et= 0.02&gt; &lt;mst= 0.00&gt; &lt;sp= 0.00&gt; &lt;cols= 4&gt; &lt;al= 0.00&gt; &lt;DB=  387.0238&gt; &lt;mlp=  401.4150&gt; &lt;PB=Inf&gt;
  &lt;it=  9&gt; &lt;et= 0.02&gt; &lt;mst= 0.00&gt; &lt;sp= 0.00&gt; &lt;cols= 3&gt; &lt;al= 0.00&gt; &lt;DB=  387.9907&gt; &lt;mlp=  399.3757&gt; &lt;PB=Inf&gt;
  &lt;it= 10&gt; &lt;et= 0.02&gt; &lt;mst= 0.00&gt; &lt;sp= 0.00&gt; &lt;cols= 3&gt; &lt;al= 0.00&gt; &lt;DB=  392.3535&gt; &lt;mlp=  397.7405&gt; &lt;PB=Inf&gt;
  &lt;it= 11&gt; &lt;et= 0.02&gt; &lt;mst= 0.00&gt; &lt;sp= 0.00&gt; &lt;cols= 1&gt; &lt;al= 0.00&gt; &lt;DB=  393.8619&gt; &lt;mlp=  396.8694&gt; &lt;PB=Inf&gt;
  &lt;it= 12&gt; &lt;et= 0.03&gt; &lt;mst= 0.00&gt; &lt;sp= 0.00&gt; &lt;cols= 2&gt; &lt;al= 0.00&gt; &lt;DB=  395.0354&gt; &lt;mlp=  396.4754&gt; &lt;PB=Inf&gt;
  &lt;it= 13&gt; &lt;et= 0.03&gt; &lt;mst= 0.00&gt; &lt;sp= 0.00&gt; &lt;cols= 0&gt; &lt;al= 0.00&gt; &lt;DB=  396.2954&gt; &lt;mlp=  396.2954&gt; &lt;PB=Inf&gt;
[ Info: Column generation algorithm has converged.
Fenchel cuts separation callback...
Robust cut separation callback adds 0 new essential cuts and 1 new facultative cuts.
avg. viol. = 0.54, max. viol. = 0.54, zero viol. = 0.
  &lt;it=  1&gt; &lt;et= 1.75&gt; &lt;mst= 0.00&gt; &lt;sp= 0.00&gt; &lt;cols= 4&gt; &lt;al= 0.00&gt; &lt;DB=  396.2954&gt; &lt;mlp=  400.0300&gt; &lt;PB=Inf&gt;
  &lt;it=  2&gt; &lt;et= 1.76&gt; &lt;mst= 0.00&gt; &lt;sp= 0.00&gt; &lt;cols= 1&gt; &lt;al= 0.00&gt; &lt;DB=  398.3356&gt; &lt;mlp=  399.2656&gt; &lt;PB=Inf&gt;
  &lt;it=  3&gt; &lt;et= 1.76&gt; &lt;mst= 0.00&gt; &lt;sp= 0.00&gt; &lt;cols= 3&gt; &lt;al= 0.00&gt; &lt;DB=  398.3356&gt; &lt;mlp=  398.9556&gt; &lt;PB=Inf&gt;
  &lt;it=  4&gt; &lt;et= 1.76&gt; &lt;mst= 0.00&gt; &lt;sp= 0.00&gt; &lt;cols= 0&gt; &lt;al= 0.00&gt; &lt;DB=  398.9050&gt; &lt;mlp=  398.9050&gt; &lt;PB=Inf&gt;
[ Info: Column generation algorithm has converged.
Fenchel cuts separation callback...
Robust cut separation callback adds 0 new essential cuts and 1 new facultative cuts.
avg. viol. = 0.50, max. viol. = 0.50, zero viol. = 0.
  &lt;it=  1&gt; &lt;et= 1.77&gt; &lt;mst= 0.00&gt; &lt;sp= 0.00&gt; &lt;cols= 3&gt; &lt;al= 0.00&gt; &lt;DB=  398.9050&gt; &lt;mlp=  399.7207&gt; &lt;PB=Inf&gt;
  &lt;it=  2&gt; &lt;et= 1.77&gt; &lt;mst= 0.00&gt; &lt;sp= 0.00&gt; &lt;cols= 0&gt; &lt;al= 0.00&gt; &lt;DB=  399.6563&gt; &lt;mlp=  399.6563&gt; &lt;PB=Inf&gt;
[ Info: Column generation algorithm has converged.
Fenchel cuts separation callback...
Robust cut separation callback adds 0 new essential cuts and 1 new facultative cuts.
avg. viol. = 0.26, max. viol. = 0.26, zero viol. = 0.
  &lt;it=  1&gt; &lt;et= 1.77&gt; &lt;mst= 0.00&gt; &lt;sp= 0.00&gt; &lt;cols= 0&gt; &lt;al= 0.00&gt; &lt;DB=  401.7597&gt; &lt;mlp=  401.7597&gt; &lt;PB=Inf&gt;
[ Info: Column generation algorithm has converged.
Fenchel cuts separation callback...
Robust cut separation callback adds 0 new essential cuts and 1 new facultative cuts.
avg. viol. = 0.42, max. viol. = 0.42, zero viol. = 0.
  &lt;it=  1&gt; &lt;et= 1.77&gt; &lt;mst= 0.00&gt; &lt;sp= 0.00&gt; &lt;cols= 0&gt; &lt;al= 0.00&gt; &lt;DB=  403.5883&gt; &lt;mlp=  403.5883&gt; &lt;PB=Inf&gt;
[ Info: Column generation algorithm has converged.
Fenchel cuts separation callback...
Robust cut separation callback adds 0 new essential cuts and 1 new facultative cuts.
avg. viol. = 0.24, max. viol. = 0.24, zero viol. = 0.
  &lt;it=  1&gt; &lt;et= 1.78&gt; &lt;mst= 0.00&gt; &lt;sp= 0.00&gt; &lt;cols= 0&gt; &lt;al= 0.00&gt; &lt;DB=  405.8977&gt; &lt;mlp=  405.8977&gt; &lt;PB=Inf&gt;
[ Info: Column generation algorithm has converged.
Fenchel cuts separation callback...
Robust cut separation callback adds 0 new essential cuts and 1 new facultative cuts.
avg. viol. = 0.21, max. viol. = 0.21, zero viol. = 0.
  &lt;it=  1&gt; &lt;et= 1.78&gt; &lt;mst= 0.00&gt; &lt;sp= 0.00&gt; &lt;cols= 2&gt; &lt;al= 0.00&gt; &lt;DB=  405.8977&gt; &lt;mlp=  407.3509&gt; &lt;PB=Inf&gt;
  &lt;it=  2&gt; &lt;et= 1.78&gt; &lt;mst= 0.00&gt; &lt;sp= 0.00&gt; &lt;cols= 0&gt; &lt;al= 0.00&gt; &lt;DB=  407.3509&gt; &lt;mlp=  407.3509&gt; &lt;PB=Inf&gt;
[ Info: Column generation algorithm has converged.
Fenchel cuts separation callback...
Robust cut separation callback adds 0 new essential cuts and 1 new facultative cuts.
avg. viol. = 0.15, max. viol. = 0.15, zero viol. = 0.
  &lt;it=  1&gt; &lt;et= 1.79&gt; &lt;mst= 0.00&gt; &lt;sp= 0.00&gt; &lt;cols= 5&gt; &lt;al= 0.00&gt; &lt;DB=  407.3509&gt; &lt;mlp=  886.3318&gt; &lt;PB=Inf&gt;
  &lt;it=  2&gt; &lt;et= 1.79&gt; &lt;mst= 0.00&gt; &lt;sp= 0.00&gt; &lt;cols= 4&gt; &lt;al= 0.00&gt; &lt;DB=  433.8362&gt; &lt;mlp=  444.2746&gt; &lt;PB=Inf&gt;
  &lt;it=  3&gt; &lt;et= 1.79&gt; &lt;mst= 0.00&gt; &lt;sp= 0.00&gt; &lt;cols= 3&gt; &lt;al= 0.00&gt; &lt;DB=  434.4800&gt; &lt;mlp=  440.3950&gt; &lt;PB=Inf&gt;
  &lt;it=  4&gt; &lt;et= 1.79&gt; &lt;mst= 0.00&gt; &lt;sp= 0.00&gt; &lt;cols= 3&gt; &lt;al= 0.00&gt; &lt;DB=  437.3700&gt; &lt;mlp=  440.3950&gt; &lt;PB=Inf&gt;
  &lt;it=  5&gt; &lt;et= 1.79&gt; &lt;mst= 0.00&gt; &lt;sp= 0.00&gt; &lt;cols= 3&gt; &lt;al= 0.00&gt; &lt;DB=  437.3700&gt; &lt;mlp=  440.3950&gt; &lt;PB=Inf&gt;
  &lt;it=  6&gt; &lt;et= 1.80&gt; &lt;mst= 0.00&gt; &lt;sp= 0.00&gt; &lt;cols= 2&gt; &lt;al= 0.00&gt; &lt;DB=  438.4650&gt; &lt;mlp=  440.3950&gt; &lt;PB=Inf&gt;
  &lt;it=  7&gt; &lt;et= 1.80&gt; &lt;mst= 0.00&gt; &lt;sp= 0.00&gt; &lt;cols= 1&gt; &lt;al= 0.00&gt; &lt;DB=  440.1325&gt; &lt;mlp=  440.3950&gt; &lt;PB=Inf&gt;
  &lt;it=  8&gt; &lt;et= 1.80&gt; &lt;mst= 0.00&gt; &lt;sp= 0.00&gt; &lt;cols= 0&gt; &lt;al= 0.00&gt; &lt;DB=  440.3950&gt; &lt;mlp=  440.3950&gt; &lt;PB=Inf&gt;
[ Info: Column generation algorithm has converged.
Fenchel cuts separation callback...
Robust cut separation callback adds 0 new essential cuts and 0 new facultative cuts.
[ Info: Running Restricted Master IP heuristic
Robust cut separation callback adds 0 new essential cuts and 0 new facultative cuts.
***************************************************************************************
**** B&amp;B tree node N°-1, parent N°-1, depth 1, 1 untreated node
**** Local DB = 440.3950, global bounds: [ -Inf , 444.4000 ], time = 1.80 sec.
**** Branching constraint: x[3,1]&lt;=0.0
***************************************************************************************
  &lt;it=  1&gt; &lt;et= 1.81&gt; &lt;mst= 0.00&gt; &lt;sp= 0.00&gt; &lt;cols= 4&gt; &lt;al= 0.00&gt; &lt;DB=  440.3950&gt; &lt;mlp=  441.9150&gt; &lt;PB=444.4000&gt;
  &lt;it=  2&gt; &lt;et= 1.81&gt; &lt;mst= 0.00&gt; &lt;sp= 0.00&gt; &lt;cols= 3&gt; &lt;al= 0.00&gt; &lt;DB=  440.3950&gt; &lt;mlp=  441.2575&gt; &lt;PB=444.4000&gt;
Robust cut separation callback adds 0 new essential cuts and 0 new facultative cuts.
  &lt;it=  3&gt; &lt;et= 1.81&gt; &lt;mst= 0.00&gt; &lt;sp= 0.00&gt; &lt;cols= 1&gt; &lt;al= 0.00&gt; &lt;DB=  440.4100&gt; &lt;mlp=  440.5500&gt; &lt;PB=440.5500&gt;
  &lt;it=  4&gt; &lt;et= 1.81&gt; &lt;mst= 0.00&gt; &lt;sp= 0.00&gt; &lt;cols= 1&gt; &lt;al= 0.00&gt; &lt;DB=  440.4100&gt; &lt;mlp=  440.5500&gt; &lt;PB=440.5500&gt;
Robust cut separation callback adds 0 new essential cuts and 0 new facultative cuts.
  &lt;it=  5&gt; &lt;et= 1.81&gt; &lt;mst= 0.00&gt; &lt;sp= 0.00&gt; &lt;cols= 0&gt; &lt;al= 0.00&gt; &lt;DB=  440.5500&gt; &lt;mlp=  440.5500&gt; &lt;PB=440.5500&gt;
[ Info: Dual bound reached primal bound.
Node is already conquered. No children will be generated.
┌ Warning: Positive participation of record record StaticVarConstrRecord with id=1 part=2 empty
└ @ Coluna.ColunaBase ~/work/Coluna.jl/Coluna.jl/src/ColunaBase/storage.jl:302
┌ Warning: Positive participation of record record PartialSolutionRecord with id=1 part=2 empty
└ @ Coluna.ColunaBase ~/work/Coluna.jl/Coluna.jl/src/ColunaBase/storage.jl:302
┌ Warning: Positive participation of record record MasterBranchConstrsRecord with id=3 part=1 empty
└ @ Coluna.ColunaBase ~/work/Coluna.jl/Coluna.jl/src/ColunaBase/storage.jl:302
┌ Warning: Positive participation of record record MasterBranchConstrsRecord with id=2 part=1 [ 47]
└ @ Coluna.ColunaBase ~/work/Coluna.jl/Coluna.jl/src/ColunaBase/storage.jl:306
┌ Warning: Positive participation of record record MasterCutsRecord with id=3 part=1 empty
└ @ Coluna.ColunaBase ~/work/Coluna.jl/Coluna.jl/src/ColunaBase/storage.jl:302
┌ Warning: Positive participation of record record MasterCutsRecord with id=2 part=1 [ 44 43 40 41 42 45 46]
└ @ Coluna.ColunaBase ~/work/Coluna.jl/Coluna.jl/src/ColunaBase/storage.jl:306
┌ Warning: Positive participation of record record MasterColumnsRecord with id=3 part=1 empty
└ @ Coluna.ColunaBase ~/work/Coluna.jl/Coluna.jl/src/ColunaBase/storage.jl:302
┌ Warning: Positive participation of record record MasterColumnsRecord with id=2 part=1 [ 218 217 239 240 231 255 236 222 200 246 202 210 201 214 191 219 237 271 186 213 252 260 251 226 259 204 228 197 211 199 244 212 256 215 261 193 190 267 233 206 198 232 273 187 274 270 196 192 269 194 205 225 263 229 195 238 272 264 224 235 258 208 266 207 216 242 223 189 221 262 268 209 220 257 188 227 241 203 245 265 254 230]
└ @ Coluna.ColunaBase ~/work/Coluna.jl/Coluna.jl/src/ColunaBase/storage.jl:306
┌ Warning: Positive participation of record record StaticVarConstrRecord with id=1 part=2 empty
└ @ Coluna.ColunaBase ~/work/Coluna.jl/Coluna.jl/src/ColunaBase/storage.jl:302
┌ Warning: Positive participation of record record StaticVarConstrRecord with id=1 part=2 empty
└ @ Coluna.ColunaBase ~/work/Coluna.jl/Coluna.jl/src/ColunaBase/storage.jl:302
┌ Warning: Positive participation of record record StaticVarConstrRecord with id=1 part=2 empty
└ @ Coluna.ColunaBase ~/work/Coluna.jl/Coluna.jl/src/ColunaBase/storage.jl:302
┌ Warning: Positive participation of record record StaticVarConstrRecord with id=1 part=2 empty
└ @ Coluna.ColunaBase ~/work/Coluna.jl/Coluna.jl/src/ColunaBase/storage.jl:302
┌ Warning: Positive participation of record record StaticVarConstrRecord with id=1 part=2 empty
└ @ Coluna.ColunaBase ~/work/Coluna.jl/Coluna.jl/src/ColunaBase/storage.jl:302
 ────────────────────────────────────────────────────────────────────────────────
                                        Time                    Allocations
                               ───────────────────────   ────────────────────────
       Tot / % measured:            4.27s /  42.5%            396MiB /  47.5%

 Section               ncalls     time    %tot     avg     alloc    %tot      avg
 ────────────────────────────────────────────────────────────────────────────────
 Coluna                     1    1.82s  100.0%   1.82s    188MiB  100.0%   188MiB
   SolveLpForm             37   15.6ms    0.9%   421μs   4.71MiB    2.5%   130KiB
   Update reduced c...     37   1.69ms    0.1%  45.8μs   1.56MiB    0.8%  43.2KiB
   Getting primal s...     37   1.09ms    0.1%  29.5μs    695KiB    0.4%  18.8KiB
   Cleanup columns         37    369μs    0.0%  10.0μs   87.2KiB    0.0%  2.36KiB
   Store records            3   61.4μs    0.0%  20.5μs   3.52KiB    0.0%  1.17KiB
   Update Lagrangia...     37   50.1μs    0.0%  1.35μs   4.62KiB    0.0%     128B
   Smoothing update        37   25.0μs    0.0%   676ns   2.89KiB    0.0%    80.0B
   Restore/remove r...      1   12.7μs    0.0%  12.7μs     0.00B    0.0%    0.00B
 ────────────────────────────────────────────────────────────────────────────────
[ Info: Terminated
[ Info: Primal bound: 440.54999999999984
[ Info: Dual bound: 440.39500000000004</code></pre><p>Valid inequalities significantly improve the previous dual bound:</p><pre><code class="language-julia hljs">db2 = objective_bound(model)


db1</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">396.29541664666664</code></pre><hr/><p><em>This page was generated using <a href="https://github.com/fredrikekre/Literate.jl">Literate.jl</a>.</em></p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../start/">« Column generation</a><a class="docs-footer-nextpage" href="../pricing/">Pricing callback »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.22 on <span class="colophon-date" title="Thursday 11 August 2022 19:12">Thursday 11 August 2022</span>. Using Julia version 1.7.3.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
