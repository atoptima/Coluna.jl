<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Presolve · Coluna.jl</title><meta name="title" content="Presolve · Coluna.jl"/><meta property="og:title" content="Presolve · Coluna.jl"/><meta property="twitter:title" content="Presolve · Coluna.jl"/><meta name="description" content="Documentation for Coluna.jl."/><meta property="og:description" content="Documentation for Coluna.jl."/><meta property="twitter:description" content="Documentation for Coluna.jl."/><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../search_index.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script><script src="../../assets/js/init.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../../">Coluna.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../../">Introduction</a></li><li><span class="tocitem">Tutorials</span><ul><li><input class="collapse-toggle" id="menuitem-2-1" type="checkbox"/><label class="tocitem" for="menuitem-2-1"><span class="docs-label">Getting Started</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../start/start/">Column generation</a></li><li><a class="tocitem" href="../../start/cuts/">Cut Generation</a></li><li><a class="tocitem" href="../../start/pricing/">Pricing callback</a></li><li><a class="tocitem" href="../../start/identical_sp/">Identical subproblems</a></li><li><a class="tocitem" href="../../start/custom_data/">Custom data</a></li><li><a class="tocitem" href="../../start/initial_columns/">Initial columns callback</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-2-2" type="checkbox"/><label class="tocitem" for="menuitem-2-2"><span class="docs-label">Advanced tutorials</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../start/advanced_demo/">Column Generation and Benders on Location Routing</a></li><li><a class="tocitem" href="../../start/other_pbs/">Other classic problems</a></li></ul></li></ul></li><li><span class="tocitem">Manual</span><ul><li><input class="collapse-toggle" id="menuitem-3-1" type="checkbox"/><label class="tocitem" for="menuitem-3-1"><span class="docs-label">Decomposition</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../man/decomposition/">Decomposition paradigms</a></li><li><a class="tocitem" href="../../man/blockdecomposition/">Setup decomposition using BlockDecomposition</a></li></ul></li><li><a class="tocitem" href="../../man/config/">Configuration</a></li><li><a class="tocitem" href="../../man/algorithm/">Built-in algorithms</a></li><li><a class="tocitem" href="../../man/callbacks/">User-defined Callbacks</a></li><li><a class="tocitem" href="../../man/presolve/">Presolve algorithm</a></li></ul></li><li><span class="tocitem">API</span><ul><li><a class="tocitem" href="../algos/">Algorithms</a></li><li><a class="tocitem" href="../benders/">Benders</a></li><li><a class="tocitem" href="../branching/">Branching</a></li><li><a class="tocitem" href="../colgen/">ColGen</a></li><li class="is-active"><a class="tocitem" href>Presolve</a><ul class="internal"><li><a class="tocitem" href="#Partial-solution"><span>Partial solution</span></a></li></ul></li><li><a class="tocitem" href="../treesearch/">TreeSearch</a></li><li><a class="tocitem" href="../storage/">Storage</a></li></ul></li><li><a class="tocitem" href="../../dynamic_sparse_arrays/">Dynamic Sparse Arrays</a></li><li><a class="tocitem" href="../../qa/">Q&amp;A</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">API</a></li><li class="is-active"><a href>Presolve</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Presolve</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/atoptima/Coluna.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/atoptima/Coluna.jl/blob/master/docs/src/api/presolve.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Presolve"><a class="docs-heading-anchor" href="#Presolve">Presolve</a><a id="Presolve-1"></a><a class="docs-heading-anchor-permalink" href="#Presolve" title="Permalink"></a></h1><p>Currently, the presolve algorithm supports only the Dantzig-Wolfe decomposition.</p><p>The presolve algorithm operates on matrix representations of the formulation. It requires two representations of the master formulation:</p><ul><li><p>the restricted master that contains master column variables, pure master variables and artificial variables;</p></li><li><p>the representative master that contains subproblem representative variables and pure master variables;</p></li></ul><p>and the representation of the pricing subproblems.</p><p>The current presolve operations available are the following (taxonomy of Achterberg et al. 2016):</p><ul><li>model cleanup &amp; removal of redundant constraints</li><li>bound strengthening</li><li>removal of fixed variables</li></ul><h2 id="Partial-solution"><a class="docs-heading-anchor" href="#Partial-solution">Partial solution</a><a id="Partial-solution-1"></a><a class="docs-heading-anchor-permalink" href="#Partial-solution" title="Permalink"></a></h2><p>The presolve algorithm has the responsibility to define and fix a partial solution when it exists. When a variable <span>$x$</span>  has a value <span>$\bar{x} &gt; 0$</span> (resp. <span>$\bar{x} &lt; 0$</span>) in the partial solution,  it means that <span>$x$</span> has a lower (resp. upper) bounds <span>$\bar{x}$</span> that will definitely be part of the solution at the current branch-and-bound node and its successors.</p><p>In other words, the partial solution describes a minimal distance of the variables from zero in the all the solutions to a problem at a given branch-and-bound node. It always restricts the domain of the variables (i.e. increase distance from zero). The only way to relax the domains is to backtrack to an ancestor of the current branch-and-bound node (i.e. go back to a previous partial solution).</p><h3 id="Augmenting-the-partial-solution"><a class="docs-heading-anchor" href="#Augmenting-the-partial-solution">Augmenting the partial solution</a><a id="Augmenting-the-partial-solution-1"></a><a class="docs-heading-anchor-permalink" href="#Augmenting-the-partial-solution" title="Permalink"></a></h3><p>Consider a <em>local partial solution</em> <span>$(\bar{x}^{\rm pure}, \bar{\lambda})$</span> (where <span>$\bar{x}^{\rm pure}$</span> is the vector of values for pure master variables, and <span>$\bar{\lambda}$</span> is the vector of values for master columns), which should be added to the <em>global partial solution</em> <span>$(\bar{y}^{\rm pure}, \bar{\theta})$</span>: </p><ol><li><p>augment the global partial solution: <span>$(\bar{y}^{\rm pure}, \bar{\theta})\leftarrow(\bar{x}^{\rm pure}+\bar{y}^{\rm pure}, \bar{\lambda}+\bar{\theta})$</span>. </p></li><li><p>update the right-hand side values of the master constraints: <span>${\rm rhs}_i\leftarrow {\rm rhs}_i - {A}^{\rm pure}\cdot\bar{x}^{\rm pure} - {A}^{\rm col}\cdot\bar{ \lambda}$</span>, where <span>${A}^{\rm pure}$</span> is the matrix of coefficients of pure master constraints and <span>${A}^{\rm col}$</span> is the matrix of coefficients of master columns.</p></li><li><p>update subproblem multiplicities <span>$U_k\leftarrow U_k - \sum_{q\in Q_k}\bar\lambda_q$</span>, and <span>$L_k\leftarrow \max\left\{0,\; L_k - \sum_{q\in Q_k}\bar\lambda_q\right\}$</span>, where <span>$Q_k$</span> is the set of indices of columns associated with solutions from subproblem <span>$k$</span>.</p></li><li><p>update the bounds of pure master variables and representative master variables using the representative local partial solution: <span>$\bar{x}^{\rm repr} = \sum_{q\in Q}{s_q}\cdot \bar\lambda_q$</span>, where <span>$Q$</span> is the total number of columns, and <span>${s_q}$</span> is the subproblem solution associated with column <span>$\lambda_q$</span>.</p></li></ol><h3 id="Updating-bounds-of-pure-and-representative-master-variables"><a class="docs-heading-anchor" href="#Updating-bounds-of-pure-and-representative-master-variables">Updating bounds of pure &amp; representative master variables</a><a id="Updating-bounds-of-pure-and-representative-master-variables-1"></a><a class="docs-heading-anchor-permalink" href="#Updating-bounds-of-pure-and-representative-master-variables" title="Permalink"></a></h3><p>Consider a pure master variable <span>$x^{\rm pure}_j$</span> with <span>$\bar{x}^{\rm pure}_j\neq 0$</span> and bounds <span>$[lb_j,ub_j]$</span> before augmenting the partial solution. </p><p>If <span>$\bar{x}^{\rm pure}_j &gt; 0$</span>, then we have <span>$lb_j\leftarrow 0$</span>, <span>$ub_j\leftarrow ub_j - \bar{x}^{\rm pure}_j$</span>.</p><p>If <span>$\bar{x}^{\rm pure}_j &lt; 0$</span>, then we have <span>$lb_j\leftarrow lb_j - \bar{x}^{\rm pure}_j$</span>, <span>$ub_j\leftarrow 0$</span>.</p><p>Consider a representative master variable <span>$x^{\rm repr}_j$</span> with bounds <span>$[lb^g_j, ub^g_j]$</span> before augmenting the partial solution. Assume that <span>$x^{\rm repr}_j$</span> represents exactly one variable <span>$x^k_j$</span> in subproblem <span>$k$</span> with bounds <span>$[lb^l_j, ub^l_j]$</span> before augmenting the partial solution. <em>This assumption should be verified before augmenting the partial solution!</em>  For the clarity of presentation, we omit index <span>$j$</span> for the remainder of this  section.</p><p>After augmenting the partial solution, the following inequalities should be satisfied: $ lb^g - \bar{x}^{\rm repr}\leq x^{\rm repr} \leq ub^g - \bar{x}^{\rm repr}.$</p><p>At the same time, we should have  <span>$\min\{lb^l\cdot L_k,\; lb^l\cdot U_k\}\leq x^{\rm repr}\leq \max\{ub^l\cdot U_k,\; ub^l\cdot L_k\}$</span></p><p>Thus, the following update should be done  $ lb^g\leftarrow \max\left{lb^g - \bar{x}^{\rm repr},\; \min{lb^l\cdot L<em>k,\; lb^l\cdot U</em>k}\right}$ $ ub^g\leftarrow  \min\left{ub^g - \bar{x}^{\rm repr},\; \max{ub^l\cdot U<em>k,\; ub^l\cdot L</em>k}\right}$</p><blockquote><p><em><strong>Example 1:</strong></em> <span>$0\leq x^k\leq 3$</span>, <span>$0\leq x^{\rm repr}\leq 6$</span>, <span>$L_k=0$</span>, <span>$U_k=2$</span>. Let <span>$\bar{x}^{\rm repr}=2$</span>. Then after augmenting the partial solution, we have  $ \max\left{-2,\; 0\right}\leq x^{\rm repr} \leq \min\left{4,\; 3\right} \Rightarrow 0 \leq x^{\rm repr} \leq 3$</p></blockquote><blockquote><p><em><strong>Example 2:</strong></em> <span>$0\leq x^k\leq 5$</span>, <span>$3\leq x^{\rm repr}\leq 6$</span>, <span>$L_k=0$</span>, <span>$U_k=2$</span>. Let <span>$\bar{x}^{\rm repr}=2$</span>. Then after augmenting the partial solution, we have  $ \max\left{1,\; 0\right}\leq x&#39;<em>{\rm repr} \leq \min\left{4,\; 5\right} \Rightarrow 1 \leq x&#39;</em>{\rm repr} \leq 4$</p></blockquote><blockquote><p><em><strong>Example 3:</strong></em> <span>$-1\leq x^k\leq 4$</span>, <span>$-2\leq x^{\rm repr}\leq 2$</span>, <span>$L_k=0$</span>, <span>$U_k=2$</span>. Let <span>$\bar{x}^{\rm repr}=-1$</span>. Then after augmenting the partial solution, we have  $ \max\left{-1,\; -1\right}\leq x^{\rm repr} \leq \min\left{3,\; 4\right} \Rightarrow -1 \leq x^{\rm repr} \leq 3$</p></blockquote><script type="module">import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs';
mermaid.initialize({
    startOnLoad: true,
    theme: "neutral"
});
</script></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../colgen/">« ColGen</a><a class="docs-footer-nextpage" href="../treesearch/">TreeSearch »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="auto">Automatic (OS)</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.2.1 on <span class="colophon-date" title="Wednesday 17 January 2024 14:45">Wednesday 17 January 2024</span>. Using Julia version 1.10.0.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
