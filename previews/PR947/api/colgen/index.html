<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>ColGen · Coluna User Guide</title><meta name="title" content="ColGen · Coluna User Guide"/><meta property="og:title" content="ColGen · Coluna User Guide"/><meta property="twitter:title" content="ColGen · Coluna User Guide"/><meta name="description" content="Documentation for Coluna User Guide."/><meta property="og:description" content="Documentation for Coluna User Guide."/><meta property="twitter:description" content="Documentation for Coluna User Guide."/><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.048/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.3.0/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.3.0/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.3.0/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.4/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script><script src="../../assets/js/init.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../../">Coluna User Guide</a></span></div><form class="docs-search" action="../../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs (Ctrl + /)"/></form><ul class="docs-menu"><li><a class="tocitem" href="../../">Introduction</a></li><li><input class="collapse-toggle" id="menuitem-2" type="checkbox"/><label class="tocitem" for="menuitem-2"><span class="docs-label">Getting started</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../start/start/">Column generation</a></li><li><a class="tocitem" href="../../start/cuts/">Valid inequalities</a></li><li><a class="tocitem" href="../../start/pricing/">Pricing callback</a></li><li><a class="tocitem" href="../../start/custom_data/">Custom data</a></li><li><a class="tocitem" href="../../start/initial_columns/">Initial columns callback</a></li><li><a class="tocitem" href="../../start/advanced_demo/">Advanced tutorial</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-3" type="checkbox"/><label class="tocitem" for="menuitem-3"><span class="docs-label">Manual</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../man/decomposition/">Decomposition</a></li><li><a class="tocitem" href="../../man/config/">Configuration</a></li><li><a class="tocitem" href="../../man/algorithm/">Built-in algorithms for Branch-and-Bound</a></li><li><a class="tocitem" href="../../man/callbacks/">Callbacks</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-4" type="checkbox" checked/><label class="tocitem" for="menuitem-4"><span class="docs-label">API</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../benders/">Benders</a></li><li><a class="tocitem" href="../branching/">Branching</a></li><li class="is-active"><a class="tocitem" href>ColGen</a><ul class="internal"><li><a class="tocitem" href="#Generic-functions"><span>Generic functions</span></a></li><li><a class="tocitem" href="#Default-implementation"><span>Default implementation</span></a></li></ul></li><li><a class="tocitem" href="../treesearch/">TreeSearch</a></li><li><a class="tocitem" href="../storage/">Storage</a></li></ul></li><li><a class="tocitem" href="../../dynamic_sparse_arrays/">Dynamic Sparse Arrays</a></li><li><a class="tocitem" href="../../qa/">Q&amp;A</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><div class="docs-left"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">API</a></li><li class="is-active"><a href>ColGen</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>ColGen</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/atoptima/Coluna.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/atoptima/Coluna.jl/blob/master/docs/src/api/colgen.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Column-generation"><a class="docs-heading-anchor" href="#Column-generation">Column generation</a><a id="Column-generation-1"></a><a class="docs-heading-anchor-permalink" href="#Column-generation" title="Permalink"></a></h1><p>Coluna provides an interface and generic functions to implement a multi-stage column  generation algorithm together with a default implementation of this algorithm.</p><p>In this section, we are first going to present the generic functions, the implementation  with some theory backgrounds and then give the references of the interface.</p><p>You can find the generic functions and the interface at <code>src/ColGen</code> and the default  implementation at <code>src/Algorithm/colgen</code>.</p><h2 id="Generic-functions"><a class="docs-heading-anchor" href="#Generic-functions">Generic functions</a><a id="Generic-functions-1"></a><a class="docs-heading-anchor-permalink" href="#Generic-functions" title="Permalink"></a></h2><p>Generic functions are the core of the column generation algorithm. There are three generic functions:</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Coluna.ColGen.run!" href="#Coluna.ColGen.run!"><code>Coluna.ColGen.run!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">run!(ctx, env, ip_primal_sol; iter = 1) -&gt; AbstractColGenOutput</code></pre><p>Runs the column generation algorithm.</p><p>Arguments are:</p><ul><li><code>ctx</code>: column generation context</li><li><code>env</code>: Coluna environment</li><li><code>ip_primal_sol</code>: current best primal solution to the master problem</li><li><code>iter</code>: iteration number (default: 1)</li></ul><p>This function is responsible for initializing the column generation context, the reformulation, and the stabilization. We iterate on the loop each time the phase or the stage changes.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/atoptima/Coluna.jl/blob/9d0f7cbb3d7cd56500e04481a453dbc6453f566c/src/ColGen/interface.jl#L91-L104">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Coluna.ColGen.run_colgen_phase!" href="#Coluna.ColGen.run_colgen_phase!"><code>Coluna.ColGen.run_colgen_phase!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">run_colgen_phase!(ctx, phase, stage, env, ip_primal_sol, stab; iter = 1) -&gt; AbstractColGenPhaseOutput</code></pre><p>Runs a phase of the column generation algorithm.</p><p>Arguments are:</p><ul><li><code>ctx</code>: column generation context</li><li><code>phase</code>: current column generation phase</li><li><code>stage</code>: current column generation stage</li><li><code>env</code>: Coluna environment</li><li><code>ip_primal_sol</code>: current best primal solution to the master problem</li><li><code>stab</code>: stabilization</li><li><code>iter</code>: iteration number (default: 1)</li></ul><p>This function is responsible for running the column generation iterations until the phase is finished.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/atoptima/Coluna.jl/blob/9d0f7cbb3d7cd56500e04481a453dbc6453f566c/src/ColGen/interface.jl#L52-L68">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Coluna.ColGen.run_colgen_iteration!" href="#Coluna.ColGen.run_colgen_iteration!"><code>Coluna.ColGen.run_colgen_iteration!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">run_colgen_iteration!(context, phase, stage, env, ip_primal_sol, stab) -&gt; AbstractColGenIterationOutput</code></pre><p>Runs an iteration of column generation.</p><p>Arguments are:</p><ul><li><code>context</code>: column generation context</li><li><code>phase</code>: current column generation phase</li><li><code>stage</code>: current column generation stage</li><li><code>env</code>: Coluna environment</li><li><code>ip_primal_sol</code>: current best primal solution to the master problem</li><li><code>stab</code>: stabilization</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/atoptima/Coluna.jl/blob/9d0f7cbb3d7cd56500e04481a453dbc6453f566c/src/ColGen/interface.jl#L291-L305">source</a></section></article><p>They are independent of any other submodule of Coluna. You can use them to implement your own column generation algorithm.</p><h2 id="Default-implementation"><a class="docs-heading-anchor" href="#Default-implementation">Default implementation</a><a id="Default-implementation-1"></a><a class="docs-heading-anchor-permalink" href="#Default-implementation" title="Permalink"></a></h2><p>The default implementation works with a reformulated problem contained in  <code>MathProg.Reformulation</code> where master and subproblems are <code>MathProg.Formulation</code> objects.</p><p>The master has the following form:</p><p class="math-container">\[\begin{aligned}
\min \quad&amp; \sum_{k \in K} c^k \lambda^k+\bar{c} y &amp; \\
\text{s.t.} \quad&amp; \sum_{k \in K} A^k \lambda^k+\bar{A} y \geq a  &amp; (1)\\
&amp; l_k \leq \mathbf{1} \lambda^k \leq u_k &amp; (2) \\
&amp; \bar{l} \leq y \leq \bar{u} &amp; (3)
\end{aligned}\]</p><p>where <span>$\lambda$</span> are the master columns, <span>$y$</span> are the pure master variables, constraints (1) are the linking constraints, constraints (2) are the convexity constraints that depend on <span>$l_k$</span> and <span>$u_k$</span> (e.g. the lower and upper multiplicity of the subproblem <span>$k$</span> respectively), and constraints (3) are the bounds on the pure master variables.</p><p>The subproblems have the following form:</p><p class="math-container">\[\begin{aligned}
\min \quad&amp; cx + 0z \\
\text{s.t.} \quad&amp; Bx \geq b \\
&amp; 1 \leq z \leq 1
\end{aligned}\]</p><p>where <span>$x$</span> are the subproblem variables, <span>$z$</span> is a setup variable that always takes the value one in a solution to the subproblem.</p><p>The coefficients of the columns in constraints (1) and (2) of the master are computed using representative variables of the subproblems.  You can read this section (TODO Natacha) to understand how we map the subproblem solutions into master columns.</p><h3 id="Phases"><a class="docs-heading-anchor" href="#Phases">Phases</a><a id="Phases-1"></a><a class="docs-heading-anchor-permalink" href="#Phases" title="Permalink"></a></h3><p>In the first iterations, the restricted master LP contains a few columns and may be infeasible. To prevent this, we introduced artificial variables <span>$v$</span> and we activate/deactivate these variables depending on whether we want to prove the infeasibility of the master LP or find the optimal LP solution. The default implementation provides three phases:</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Coluna.Algorithm.ColGenPhase1" href="#Coluna.Algorithm.ColGenPhase1"><code>Coluna.Algorithm.ColGenPhase1</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Phase 1 sets the cost of variables to 0 except for artifical variables. The goal is to find a solution to the master LP problem that has no artificial variables.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/atoptima/Coluna.jl/blob/9d0f7cbb3d7cd56500e04481a453dbc6453f566c/src/Algorithm/colgen/default.jl#L143-L146">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Coluna.Algorithm.ColGenPhase2" href="#Coluna.Algorithm.ColGenPhase2"><code>Coluna.Algorithm.ColGenPhase2</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Phase 2 solves the master LP without artificial variables. To start, it requires a set of columns that forms a feasible solution to the LP master. This set is found with phase 1.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/atoptima/Coluna.jl/blob/9d0f7cbb3d7cd56500e04481a453dbc6453f566c/src/Algorithm/colgen/default.jl#L149-L153">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Coluna.Algorithm.ColGenPhase3" href="#Coluna.Algorithm.ColGenPhase3"><code>Coluna.Algorithm.ColGenPhase3</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Phase 3 is a mix of phase 1 and phase 2. It sets a very large cost to artifical variables to force them to be removed from the master  LP solution. If the final master LP solution contains artifical variables either the master is infeasible or the cost of artificial variables is not large enough. Phase 1 must be run.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/atoptima/Coluna.jl/blob/9d0f7cbb3d7cd56500e04481a453dbc6453f566c/src/Algorithm/colgen/default.jl#L156-L162">source</a></section></article><p>Column generation always starts with Phase 3. The cost of artificial variables in Phase 3 can be changed using the following methods:</p><div class="admonition is-warning"><header class="admonition-header">Missing docstring.</header><div class="admonition-body"><p>Missing docstring for <code>missing</code>. Check Documenter&#39;s build log for details.</p></div></div><p><strong>References</strong>:</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Coluna.ColGen.AbstractColGenPhase" href="#Coluna.ColGen.AbstractColGenPhase"><code>Coluna.ColGen.AbstractColGenPhase</code></a> — <span class="docstring-category">Type</span></header><section><div><p>A phase of the column generation. Each phase is associated with a specific set up of the reformulation.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/atoptima/Coluna.jl/blob/9d0f7cbb3d7cd56500e04481a453dbc6453f566c/src/ColGen/phases.jl#L1-L4">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Coluna.ColGen.AbstractColGenPhaseIterator" href="#Coluna.ColGen.AbstractColGenPhaseIterator"><code>Coluna.ColGen.AbstractColGenPhaseIterator</code></a> — <span class="docstring-category">Type</span></header><section><div><p>An iterator that indicates how phases follow each other.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/atoptima/Coluna.jl/blob/9d0f7cbb3d7cd56500e04481a453dbc6453f566c/src/ColGen/phases.jl#L7-L9">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Coluna.ColGen.new_phase_iterator" href="#Coluna.ColGen.new_phase_iterator"><code>Coluna.ColGen.new_phase_iterator</code></a> — <span class="docstring-category">Function</span></header><section><div><p>Returns a new phase iterator.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/atoptima/Coluna.jl/blob/9d0f7cbb3d7cd56500e04481a453dbc6453f566c/src/ColGen/phases.jl#L12">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Coluna.ColGen.initial_phase" href="#Coluna.ColGen.initial_phase"><code>Coluna.ColGen.initial_phase</code></a> — <span class="docstring-category">Function</span></header><section><div><p>Returns the phase with which the column generation algorithm must start.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/atoptima/Coluna.jl/blob/9d0f7cbb3d7cd56500e04481a453dbc6453f566c/src/ColGen/phases.jl#L15">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Coluna.ColGen.decrease_stage" href="#Coluna.ColGen.decrease_stage"><code>Coluna.ColGen.decrease_stage</code></a> — <span class="docstring-category">Function</span></header><section><div><p>Returns the next stage involving a &quot;more exact solver&quot; than the current one. Returns <code>nothing</code> if the algorithm has already reached the exact phase (last phase).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/atoptima/Coluna.jl/blob/9d0f7cbb3d7cd56500e04481a453dbc6453f566c/src/ColGen/stages.jl#L16-L19">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Coluna.ColGen.next_phase" href="#Coluna.ColGen.next_phase"><code>Coluna.ColGen.next_phase</code></a> — <span class="docstring-category">Function</span></header><section><div><p>Returns the next phase of the column generation algorithm. Returns <code>nothing</code> if the algorithm must stop.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/atoptima/Coluna.jl/blob/9d0f7cbb3d7cd56500e04481a453dbc6453f566c/src/ColGen/phases.jl#L18-L21">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Coluna.ColGen.setup_reformulation!" href="#Coluna.ColGen.setup_reformulation!"><code>Coluna.ColGen.setup_reformulation!</code></a> — <span class="docstring-category">Function</span></header><section><div><p>Setup the reformulation for the given phase.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/atoptima/Coluna.jl/blob/9d0f7cbb3d7cd56500e04481a453dbc6453f566c/src/ColGen/phases.jl#L24">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Coluna.ColGen.setup_context!" href="#Coluna.ColGen.setup_context!"><code>Coluna.ColGen.setup_context!</code></a> — <span class="docstring-category">Function</span></header><section><div><p>Setup the context for the given phase.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/atoptima/Coluna.jl/blob/9d0f7cbb3d7cd56500e04481a453dbc6453f566c/src/ColGen/phases.jl#L27">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Coluna.ColGen.stop_colgen_phase" href="#Coluna.ColGen.stop_colgen_phase"><code>Coluna.ColGen.stop_colgen_phase</code></a> — <span class="docstring-category">Function</span></header><section><div><p>Returns <code>true</code> if the column generation phase must stop.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/atoptima/Coluna.jl/blob/9d0f7cbb3d7cd56500e04481a453dbc6453f566c/src/ColGen/phases.jl#L30">source</a></section></article><h3 id="Stages"><a class="docs-heading-anchor" href="#Stages">Stages</a><a id="Stages-1"></a><a class="docs-heading-anchor-permalink" href="#Stages" title="Permalink"></a></h3><p>A stage is a set of consecutive iterations in which we use a given pricing solver. The aim is to speed up the resolution of the pricing problem by first using an approximate but fast pricing algorithm and then switching to increasingly less heuristic algorithms until the last stage where an exact solver is used. and an exact solver at the last stage. Given a pricing solver, when the column generation does not progress anymore or the pricing solver does not return any new column, the default implementation switch to a more exact pricing solver. Stages are created using the <code>stages_pricing_solver_ids</code> of the <code>ColumnGenerationAlgorithm</code> parameter object. The default implementation implements the interface around the following object:</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Coluna.Algorithm.ColGenStageIterator" href="#Coluna.Algorithm.ColGenStageIterator"><code>Coluna.Algorithm.ColGenStageIterator</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Default implementation of the column generation stages works as follows.</p><p>Consider a set {A,B,C} of subproblems each of them associated to the following sets of pricing solvers: {a1, a2, a3}, {b1, b2}, {c1, c2, c3, c4}. Pricing solvers a1, b1, c1 are exact solvers; others are heuristic.</p><p>The column generation algorithm will run the following stages:</p><ul><li>stage 4 with pricing solvers {a3, b2, c4}</li><li>stage 3 with pricing solvers {a2, b1, c3}</li><li>stage 2 with pricing solvers {a1, b1, c2}</li><li>stage 1 with pricing solvers {a1, b1, c1} (exact stage)</li></ul><p>Column generation moves from one stage to another when all solvers find no column.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/atoptima/Coluna.jl/blob/9d0f7cbb3d7cd56500e04481a453dbc6453f566c/src/Algorithm/colgen/default.jl#L289-L303">source</a></section></article><p><strong>References</strong>:</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Coluna.ColGen.AbstractColGenStage" href="#Coluna.ColGen.AbstractColGenStage"><code>Coluna.ColGen.AbstractColGenStage</code></a> — <span class="docstring-category">Type</span></header><section><div><p>A stage of the column generation algorithm. Each stage is associated to a specific solver for each pricing subproblem.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/atoptima/Coluna.jl/blob/9d0f7cbb3d7cd56500e04481a453dbc6453f566c/src/ColGen/stages.jl#L1-L4">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Coluna.ColGen.AbstractColGenStageIterator" href="#Coluna.ColGen.AbstractColGenStageIterator"><code>Coluna.ColGen.AbstractColGenStageIterator</code></a> — <span class="docstring-category">Type</span></header><section><div><p>An iterator that indicates how stages follow each other.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/atoptima/Coluna.jl/blob/9d0f7cbb3d7cd56500e04481a453dbc6453f566c/src/ColGen/stages.jl#L7">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Coluna.ColGen.new_stage_iterator" href="#Coluna.ColGen.new_stage_iterator"><code>Coluna.ColGen.new_stage_iterator</code></a> — <span class="docstring-category">Function</span></header><section><div><p>Returns a new stage iterator.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/atoptima/Coluna.jl/blob/9d0f7cbb3d7cd56500e04481a453dbc6453f566c/src/ColGen/stages.jl#L10">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Coluna.ColGen.initial_stage" href="#Coluna.ColGen.initial_stage"><code>Coluna.ColGen.initial_stage</code></a> — <span class="docstring-category">Function</span></header><section><div><p>Returns the stage at which the column generation algorithm must start.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/atoptima/Coluna.jl/blob/9d0f7cbb3d7cd56500e04481a453dbc6453f566c/src/ColGen/stages.jl#L13">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Coluna.ColGen.next_stage" href="#Coluna.ColGen.next_stage"><code>Coluna.ColGen.next_stage</code></a> — <span class="docstring-category">Function</span></header><section><div><p>Returns the next stage that column generation must use.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/atoptima/Coluna.jl/blob/9d0f7cbb3d7cd56500e04481a453dbc6453f566c/src/ColGen/stages.jl#L22-L24">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Coluna.ColGen.get_pricing_subprob_optimizer" href="#Coluna.ColGen.get_pricing_subprob_optimizer"><code>Coluna.ColGen.get_pricing_subprob_optimizer</code></a> — <span class="docstring-category">Function</span></header><section><div><p>Returns the optimizer for the pricing subproblem associated to the given stage.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/atoptima/Coluna.jl/blob/9d0f7cbb3d7cd56500e04481a453dbc6453f566c/src/ColGen/stages.jl#L27">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Coluna.ColGen.stage_id" href="#Coluna.ColGen.stage_id"><code>Coluna.ColGen.stage_id</code></a> — <span class="docstring-category">Function</span></header><section><div><p>Returns the id of the stage.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/atoptima/Coluna.jl/blob/9d0f7cbb3d7cd56500e04481a453dbc6453f566c/src/ColGen/stages.jl#L30">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Coluna.ColGen.is_exact_stage" href="#Coluna.ColGen.is_exact_stage"><code>Coluna.ColGen.is_exact_stage</code></a> — <span class="docstring-category">Function</span></header><section><div><p>Returns <code>true</code> if the stage uses an exact solver for the pricing subproblem; <code>false</code> otherwise.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/atoptima/Coluna.jl/blob/9d0f7cbb3d7cd56500e04481a453dbc6453f566c/src/ColGen/stages.jl#L33">source</a></section></article><h3 id="Column-generation-iteration"><a class="docs-heading-anchor" href="#Column-generation-iteration">Column generation iteration</a><a id="Column-generation-iteration-1"></a><a class="docs-heading-anchor-permalink" href="#Column-generation-iteration" title="Permalink"></a></h3><p>These are the main steps of a column generation iteration without stabilization. Click on the step to go to the relevant section.</p><div class="mermaid">flowchart TB;
    id1(Optimize master LP)
    id2{{Solution to master LP is integer?}}
    id3(Update incumbent primal solution if better than current one)
    id4(Compute reduced cost of subproblem variables)
    id5{{Subproblem iterator}}
    id6(Optimize pricing subproblem)
    id7(Push subproblem solution into set)
    id8(Compute dual bound)
    id9(Insert columns)
    id10(Iteration output)
    id1 --&gt; id2
    id2 --yes--&gt; id3
    id2 --no--&gt; id4
    id3 --&gt; id4
    id4 --&gt; id5
    id5 --subproblem--&gt; id6
    id6 --&gt; id7
    id7 --&gt; id5
    id5 --nothing--&gt; id8
    id8 --&gt; id9
    id9 --&gt; id10
    click id1 href &quot;#Optimize-master-LP&quot; &quot;Link to doc&quot;
    click id2 href &quot;#Check-integrality-of-the-master-LP-solution&quot; &quot;Link to doc&quot;
    click id3 href &quot;#Update-incumbent-primal-solution&quot; &quot;Link to doc&quot;
    click id4 href &quot;#Reduced-costs-calculation&quot; &quot;Link to doc&quot;
    click id5 href &quot;#Pricing-subproblem-iterator&quot; &quot;Link to doc&quot;
    click id6 href &quot;#Pricing-subproblem-optimization&quot; &quot;Link to doc&quot;
    click id7 href &quot;#Set-of-generated-columns&quot; &quot;Link to doc&quot;
    click id8 href &quot;#Dual-bound-calculation&quot; &quot;Link to doc&quot;
    click id9 href &quot;#Columns-insertion&quot; &quot;Link to doc&quot;
    click id10 href &quot;#Iteration-output&quot; &quot;Link to doc&quot;</div><h4 id="Optimize-master-LP"><a class="docs-heading-anchor" href="#Optimize-master-LP">Optimize master LP</a><a id="Optimize-master-LP-1"></a><a class="docs-heading-anchor-permalink" href="#Optimize-master-LP" title="Permalink"></a></h4><p>At each iteration, the algorithm requires a dual solution to the master LP to compute the reduced cost of subproblem variables.</p><p>The default implementation optimizes the master with an LP solver through MathOptInterface. It returns a primal and a dual solution.</p><p>In the default implementation, the master LP output is in the following data structure:</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Coluna.Algorithm.ColGenMasterResult" href="#Coluna.Algorithm.ColGenMasterResult"><code>Coluna.Algorithm.ColGenMasterResult</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Output of the <code>ColGen.optimize_master_lp_problem!</code> method.</p><p>Contains <code>result</code>, an <code>OptimizationState</code> object that is the output of the <code>SolveLpForm</code> algorithm called to optimize the master LP problem.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/atoptima/Coluna.jl/blob/9d0f7cbb3d7cd56500e04481a453dbc6453f566c/src/Algorithm/colgen/default.jl#L365-L370">source</a></section></article><p><strong>References</strong>:</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Coluna.ColGen.optimize_master_lp_problem!" href="#Coluna.ColGen.optimize_master_lp_problem!"><code>Coluna.ColGen.optimize_master_lp_problem!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">optimize_master_lp_problem!(master, context, env) -&gt; MasterResult</code></pre><p>Returns an instance of a custom object <code>MasterResult</code> that implements the following methods:</p><ul><li><code>get_obj_val</code>: objective value of the master (mandatory)</li><li><code>get_primal_sol</code>: primal solution to the master (optional)</li><li><code>get_dual_sol</code>: dual solution to the master (mandatory otherwise column generation stops)</li></ul><p>It should at least return a dual solution (obtained with LP optimization or subgradient)  otherwise column generation cannot continue.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/atoptima/Coluna.jl/blob/9d0f7cbb3d7cd56500e04481a453dbc6453f566c/src/ColGen/interface.jl#L160-L170">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Coluna.ColGen.get_obj_val" href="#Coluna.ColGen.get_obj_val"><code>Coluna.ColGen.get_obj_val</code></a> — <span class="docstring-category">Function</span></header><section><div><p>Returns the optimal objective value of the master LP problem.&quot; See <code>optimize_master_lp_problem!</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/atoptima/Coluna.jl/blob/9d0f7cbb3d7cd56500e04481a453dbc6453f566c/src/ColGen/interface.jl#L173-L176">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Coluna.ColGen.get_primal_sol" href="#Coluna.ColGen.get_primal_sol"><code>Coluna.ColGen.get_primal_sol</code></a> — <span class="docstring-category">Function</span></header><section><div><p>Returns primal solution to the master LP problem.  See <code>optimize_master_lp_problem!</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/atoptima/Coluna.jl/blob/9d0f7cbb3d7cd56500e04481a453dbc6453f566c/src/ColGen/interface.jl#L179-L182">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Coluna.ColGen.get_dual_sol" href="#Coluna.ColGen.get_dual_sol"><code>Coluna.ColGen.get_dual_sol</code></a> — <span class="docstring-category">Function</span></header><section><div><p>Returns dual solution to the master optimization problem.  See <code>optimize_master_lp_problem!</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/atoptima/Coluna.jl/blob/9d0f7cbb3d7cd56500e04481a453dbc6453f566c/src/ColGen/interface.jl#L185-L188">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Coluna.ColGen.is_optimal" href="#Coluna.ColGen.is_optimal"><code>Coluna.ColGen.is_optimal</code></a> — <span class="docstring-category">Function</span></header><section><div><p>Returns true if a master or pricing problem result is optimal; false otherwise.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/atoptima/Coluna.jl/blob/9d0f7cbb3d7cd56500e04481a453dbc6453f566c/src/ColGen/interface.jl#L153">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Coluna.ColGen.is_infeasible" href="#Coluna.ColGen.is_infeasible"><code>Coluna.ColGen.is_infeasible</code></a> — <span class="docstring-category">Function</span></header><section><div><p>Returns true if a master or pricing problem result is infeasible; false otherwise.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/atoptima/Coluna.jl/blob/9d0f7cbb3d7cd56500e04481a453dbc6453f566c/src/ColGen/interface.jl#L147">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Coluna.ColGen.is_unbounded" href="#Coluna.ColGen.is_unbounded"><code>Coluna.ColGen.is_unbounded</code></a> — <span class="docstring-category">Function</span></header><section><div><p>Returns true if a master or pricing problem result is unbounded; false otherwise.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/atoptima/Coluna.jl/blob/9d0f7cbb3d7cd56500e04481a453dbc6453f566c/src/ColGen/interface.jl#L150">source</a></section></article><p>Go back to the <a href="#Column-generation-iteration">column generation iteration overview</a>.</p><h4 id="Check-the-integrality-of-the-master-LP-solution"><a class="docs-heading-anchor" href="#Check-the-integrality-of-the-master-LP-solution">Check the integrality of the master LP solution</a><a id="Check-the-integrality-of-the-master-LP-solution-1"></a><a class="docs-heading-anchor-permalink" href="#Check-the-integrality-of-the-master-LP-solution" title="Permalink"></a></h4><p>The algorithm checks the integrality of the primal solution to the master LP to improve the global primal bound of the branch-cut-price algorithm.</p><p>In the default implementation, the integrality check is done using the <code>MathProg.proj_cols_is_integer</code> method. It implements the procedure described in the paper (TODO). Basically, it sorts the column used in the master LP primal solution in lexicographic order.  It assigns a weight to each column equal to the value of the column in the master LP solution.  It then forms columns of weight one by accumulating the columns of the fractional solution.  If columns are integral, the solution is integral. This is a heuristic procedure so it can miss some integer solutions.</p><p>If the solution is integral, the essential cut callback is called to make sure it is feasible.</p><p><strong>References</strong>:</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Coluna.ColGen.check_primal_ip_feasibility!" href="#Coluna.ColGen.check_primal_ip_feasibility!"><code>Coluna.ColGen.check_primal_ip_feasibility!</code></a> — <span class="docstring-category">Function</span></header><section><div><p>Returns a primal solution expressed in the original problem variables if the current master LP solution is integer feasible; <code>nothing</code> otherwise.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/atoptima/Coluna.jl/blob/9d0f7cbb3d7cd56500e04481a453dbc6453f566c/src/ColGen/interface.jl#L191-L194">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Coluna.ColGen.is_better_primal_sol" href="#Coluna.ColGen.is_better_primal_sol"><code>Coluna.ColGen.is_better_primal_sol</code></a> — <span class="docstring-category">Function</span></header><section><div><p>Returns <code>true</code> if the new master IP primal solution is better than the current; <code>false</code> otherwise.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/atoptima/Coluna.jl/blob/9d0f7cbb3d7cd56500e04481a453dbc6453f566c/src/ColGen/interface.jl#L197-L199">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Coluna.ColGen.update_inc_primal_sol!" href="#Coluna.ColGen.update_inc_primal_sol!"><code>Coluna.ColGen.update_inc_primal_sol!</code></a> — <span class="docstring-category">Function</span></header><section><div><p>Updates the current master IP primal solution.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/atoptima/Coluna.jl/blob/9d0f7cbb3d7cd56500e04481a453dbc6453f566c/src/ColGen/interface.jl#L202-L204">source</a></section></article><p>Go back to the <a href="#Column-generation-iteration">column generation iteration overview</a>.</p><h4 id="Update-incumbent-primal-solution"><a class="docs-heading-anchor" href="#Update-incumbent-primal-solution">Update incumbent primal solution</a><a id="Update-incumbent-primal-solution-1"></a><a class="docs-heading-anchor-permalink" href="#Update-incumbent-primal-solution" title="Permalink"></a></h4><p>If the solution to master LP is integer and better than the current best one,  we need to update incumbent. This solution is then used by the tree-search algorithm in the  bounding mechanism that prunes the nodes.</p><p><strong>References</strong>:</p><div class="admonition is-warning"><header class="admonition-header">Missing docstring.</header><div class="admonition-body"><p>Missing docstring for <code>Coluna.ColGen.isbetter</code>. Check Documenter&#39;s build log for details.</p></div></div><div class="admonition is-warning"><header class="admonition-header">Missing docstring.</header><div class="admonition-body"><p>Missing docstring for <code>Coluna.ColGen.check_primal_ip_feasibility!</code>. Check Documenter&#39;s build log for details.</p></div></div><div class="admonition is-warning"><header class="admonition-header">Missing docstring.</header><div class="admonition-body"><p>Missing docstring for <code>Coluna.ColGen.update_inc_primal_sol!</code>. Check Documenter&#39;s build log for details.</p></div></div><p>Go back to the <a href="#Column-generation-iteration">column generation iteration overview</a>.</p><h4 id="Reduced-costs-calculation"><a class="docs-heading-anchor" href="#Reduced-costs-calculation">Reduced costs calculation</a><a id="Reduced-costs-calculation-1"></a><a class="docs-heading-anchor-permalink" href="#Reduced-costs-calculation" title="Permalink"></a></h4><p>Reduced costs calculation is written as a math operation in the <code>run_colgen_iteration!</code>  generic function. As a consequence, the dual solution to the master LP and the  implementation of the two following methods must return data structures that support math operations.</p><p>Reduced costs calculation also requires the implementation of the two following methods:</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Coluna.ColGen.update_master_constrs_dual_vals!" href="#Coluna.ColGen.update_master_constrs_dual_vals!"><code>Coluna.ColGen.update_master_constrs_dual_vals!</code></a> — <span class="docstring-category">Function</span></header><section><div><p>Updates dual value of the master constraints. Dual values of the constraints can be used when the pricing solver supports non-robust cuts.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/atoptima/Coluna.jl/blob/9d0f7cbb3d7cd56500e04481a453dbc6453f566c/src/ColGen/interface.jl#L210-L213">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Coluna.ColGen.get_subprob_var_orig_costs" href="#Coluna.ColGen.get_subprob_var_orig_costs"><code>Coluna.ColGen.get_subprob_var_orig_costs</code></a> — <span class="docstring-category">Function</span></header><section><div><p>Returns the original cost <code>c</code> of subproblems variables. to compute reduced cost <code>̄c = c - transpose(A) * π</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/atoptima/Coluna.jl/blob/9d0f7cbb3d7cd56500e04481a453dbc6453f566c/src/ColGen/interface.jl#L221-L224">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Coluna.ColGen.get_subprob_var_coef_matrix" href="#Coluna.ColGen.get_subprob_var_coef_matrix"><code>Coluna.ColGen.get_subprob_var_coef_matrix</code></a> — <span class="docstring-category">Function</span></header><section><div><p>Returns the coefficient matrix <code>A</code> of subproblem variables in the master to compute reduced cost <code>̄c = c - transpose(A) * π</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/atoptima/Coluna.jl/blob/9d0f7cbb3d7cd56500e04481a453dbc6453f566c/src/ColGen/interface.jl#L227-L230">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Coluna.ColGen.update_sp_vars_red_costs!" href="#Coluna.ColGen.update_sp_vars_red_costs!"><code>Coluna.ColGen.update_sp_vars_red_costs!</code></a> — <span class="docstring-category">Function</span></header><section><div><p>Updates reduced costs of variables of a given subproblem.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/atoptima/Coluna.jl/blob/9d0f7cbb3d7cd56500e04481a453dbc6453f566c/src/ColGen/interface.jl#L233">source</a></section></article><p>Go back to the <a href="#Column-generation-iteration">column generation iteration overview</a>.</p><h4 id="Pricing-subproblem-iterator"><a class="docs-heading-anchor" href="#Pricing-subproblem-iterator">Pricing subproblem iterator</a><a id="Pricing-subproblem-iterator-1"></a><a class="docs-heading-anchor-permalink" href="#Pricing-subproblem-iterator" title="Permalink"></a></h4><p>The pricing strategy is basically an iterator used to iterate over the pricing subproblems to optimize at each iteration of the column generation. The context can serve as a memory of the pricing strategy to change the way we iterate over subproblems between each column generation iteration.</p><p>The default implementation iterates over all subproblems.</p><p>Here are the references for the interface:</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Coluna.ColGen.AbstractPricingStrategy" href="#Coluna.ColGen.AbstractPricingStrategy"><code>Coluna.ColGen.AbstractPricingStrategy</code></a> — <span class="docstring-category">Type</span></header><section><div><p>A pricing strategy defines how we iterate on pricing subproblems. A default pricing strategy consists in iterating on all pricing subproblems.</p><p>Basically, this object is used like this:</p><pre><code class="language-julia hljs">    pricing_strategy = ColGen.get_pricing_strategy(ctx, phase)
    next = ColGen.pricing_strategy_iterate(pricing_strategy)
    while !isnothing(next)
        (sp_id, sp_to_solve), state = next
        # Solve the subproblem `sp_to_solve`.
        next = ColGen.pricing_strategy_iterate(pricing_strategy, state)
    end</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/atoptima/Coluna.jl/blob/9d0f7cbb3d7cd56500e04481a453dbc6453f566c/src/ColGen/pricing.jl#L4-L19">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Coluna.ColGen.get_pricing_strategy" href="#Coluna.ColGen.get_pricing_strategy"><code>Coluna.ColGen.get_pricing_strategy</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">get_pricing_strategy(ctx, phase) -&gt; AbstractPricingStrategy</code></pre><p>Returns the pricing strategy object.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/atoptima/Coluna.jl/blob/9d0f7cbb3d7cd56500e04481a453dbc6453f566c/src/ColGen/pricing.jl#L22-L26">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Coluna.ColGen.pricing_strategy_iterate" href="#Coluna.ColGen.pricing_strategy_iterate"><code>Coluna.ColGen.pricing_strategy_iterate</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">pricing_strategy_iterate(pricing_strategy) -&gt; ((sp_id, sp_to_solve), state)
pricing_strategy_iterate(pricing_strategy, state) -&gt; ((sp_id, sp_to_solve), state)</code></pre><p>Returns an iterator with the first pricing subproblem that must be optimized. The next subproblem is returned by a call to <code>Base.iterate</code> using the information provided by this method.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/atoptima/Coluna.jl/blob/9d0f7cbb3d7cd56500e04481a453dbc6453f566c/src/ColGen/pricing.jl#L29-L36">source</a></section></article><p>Go back to the <a href="#Column-generation-iteration">column generation iteration overview</a>.</p><h4 id="Pricing-subproblem-optimization"><a class="docs-heading-anchor" href="#Pricing-subproblem-optimization">Pricing subproblem optimization</a><a id="Pricing-subproblem-optimization-1"></a><a class="docs-heading-anchor-permalink" href="#Pricing-subproblem-optimization" title="Permalink"></a></h4><p>At each iteration, the algorithm requires primal solutions to the pricing subproblems. The generic function supports multi-column generation so you can return any number of solutions.</p><p>The default implementation supports optimization of the pricing subproblems using a MILP solver or a pricing callback. Non-robust valid inequalities are not supported by MILP solvers as they change the structure of the subproblems. When using a pricing callback, you must be aware of how Coluna calculates the reduced cost of a column:</p><p>The reduced cost of a column is split into three contributions:</p><ul><li>the contribution of the subproblem variables that is the primal solution cost given the reduced cost of subproblem variables</li><li>the contribution of the non-robust constraints (i.e. master constraints that cannot be expressed using subproblem variables except the convexity constraint) that is not supported by MILP solver but that you must take into account in the pricing callback</li><li>the contribution of the master convexity constraint that is automatically taken into account by Coluna once the primal solution is returned.</li></ul><p>Therefore, when you use a pricing callback, you must not discard some columns based only on the primal solution cost because you don&#39;t know the contribution of the convexity constraint.</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Coluna.Algorithm.GeneratedColumn" href="#Coluna.Algorithm.GeneratedColumn"><code>Coluna.Algorithm.GeneratedColumn</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Solution to a pricing subproblem after a given optimization.</p><p>It contains:</p><ul><li><code>column</code>: the solution stored as a <code>PrimalSolution</code> object</li><li><code>red_cost</code>: the reduced cost of the column</li><li><code>min_obj</code>: a boolean indicating if the objective is to minimize or maximize</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/atoptima/Coluna.jl/blob/9d0f7cbb3d7cd56500e04481a453dbc6453f566c/src/Algorithm/colgen/default.jl#L542-L549">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Coluna.Algorithm.ColGenPricingResult" href="#Coluna.Algorithm.ColGenPricingResult"><code>Coluna.Algorithm.ColGenPricingResult</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Output of the default implementation of <code>ColGen.optimize_pricing_problem!</code>.</p><p>It contains:</p><ul><li><code>result</code>: the output of the <code>SolveIpForm</code> algorithm called to optimize the pricing subproblem</li><li><code>columns</code>: a vector of <code>GeneratedColumn</code> objects obtained by processing of the output of pricing subproblem optimization, it stores the reduced cost of each column</li><li><code>best_red_cost</code>: the best reduced cost of the columns</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/atoptima/Coluna.jl/blob/9d0f7cbb3d7cd56500e04481a453dbc6453f566c/src/Algorithm/colgen/default.jl#L600-L607">source</a></section></article><p><strong>References</strong>:</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Coluna.ColGen.optimize_pricing_problem!" href="#Coluna.ColGen.optimize_pricing_problem!"><code>Coluna.ColGen.optimize_pricing_problem!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">optimize_pricing_problem!(ctx, sp, env, optimizer, mast_dual_sol) -&gt; PricingResult</code></pre><p>Returns a custom object <code>PricingResult</code> that must implement the following functions:</p><ul><li><code>get_primal_sols</code>: array of primal solution to the pricing subproblem </li><li><code>get_primal_bound</code>: best reduced cost (optional ?)</li><li><code>get_dual_bound</code>: dual bound of the pricing subproblem (used to compute the master dual bound)</li></ul><p>TODO: talk about master<em>dual</em>sol</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/atoptima/Coluna.jl/blob/9d0f7cbb3d7cd56500e04481a453dbc6453f566c/src/ColGen/pricing.jl#L63-L72">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Coluna.ColGen.get_primal_sols" href="#Coluna.ColGen.get_primal_sols"><code>Coluna.ColGen.get_primal_sols</code></a> — <span class="docstring-category">Function</span></header><section><div><p>Array of primal solutions to the pricing subproblem</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/atoptima/Coluna.jl/blob/9d0f7cbb3d7cd56500e04481a453dbc6453f566c/src/ColGen/pricing.jl#L75">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Coluna.ColGen.get_dual_bound" href="#Coluna.ColGen.get_dual_bound"><code>Coluna.ColGen.get_dual_bound</code></a> — <span class="docstring-category">Function</span></header><section><div><p>Returns dual bound of the pricing subproblem; <code>nothing</code> if no dual bound is available and the initial dual bound returned by <code>compute_sp_init_db</code> will be used to compute the master dual bound.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/atoptima/Coluna.jl/blob/9d0f7cbb3d7cd56500e04481a453dbc6453f566c/src/ColGen/pricing.jl#L78-L82">source</a></section></article><p>You must also implement the <code>Coluna.ColGen.is_optimal</code>, <code>Coluna.ColGen.is_infeasible</code>, and <code>Coluna.ColGen.is_unbounded</code> for the pricing result.</p><p>Go back to the <a href="#Column-generation-iteration">column generation iteration overview</a>.</p><h4 id="Set-of-generated-columns"><a class="docs-heading-anchor" href="#Set-of-generated-columns">Set of generated columns</a><a id="Set-of-generated-columns-1"></a><a class="docs-heading-anchor-permalink" href="#Set-of-generated-columns" title="Permalink"></a></h4><p>You can define your data structure to manage the columns generated at a given iteration. Columns are inserted after the optimization of all pricing subproblems to allow the parallelization of the latter.</p><p>In the default implementation, we use the following data structure:</p><div class="admonition is-warning"><header class="admonition-header">Missing docstring.</header><div class="admonition-body"><p>Missing docstring for <code>Coluna.Algorithm.</code>. Check Documenter&#39;s build log for details.</p></div></div><p><strong>References</strong>:</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Coluna.ColGen.set_of_columns" href="#Coluna.ColGen.set_of_columns"><code>Coluna.ColGen.set_of_columns</code></a> — <span class="docstring-category">Function</span></header><section><div><p>Returns an empty container that will store all the columns generated by the pricing problems during an iteration of the column generation algorithm. One must be able to iterate on this container to insert the columns in the master problem.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/atoptima/Coluna.jl/blob/9d0f7cbb3d7cd56500e04481a453dbc6453f566c/src/ColGen/pricing.jl#L56-L60">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Coluna.ColGen.push_in_set!" href="#Coluna.ColGen.push_in_set!"><code>Coluna.ColGen.push_in_set!</code></a> — <span class="docstring-category">Function</span></header><section><div><p>Pushes the column in the set of columns generated at a given iteration of the column generation algorithm. Columns stored in the set will then be considered for insertion in the master problem. Returns <code>true</code> if column was inserted in the set, <code>false</code> otherwise.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/atoptima/Coluna.jl/blob/9d0f7cbb3d7cd56500e04481a453dbc6453f566c/src/ColGen/pricing.jl#L93-L98">source</a></section></article><p>Go back to the <a href="#Column-generation-iteration">column generation iteration overview</a>.</p><h4 id="Dual-bound-calculation"><a class="docs-heading-anchor" href="#Dual-bound-calculation">Dual bound calculation</a><a id="Dual-bound-calculation-1"></a><a class="docs-heading-anchor-permalink" href="#Dual-bound-calculation" title="Permalink"></a></h4><p>Lorem ipsum</p><p><strong>References</strong>:</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Coluna.ColGen.compute_sp_init_pb" href="#Coluna.ColGen.compute_sp_init_pb"><code>Coluna.ColGen.compute_sp_init_pb</code></a> — <span class="docstring-category">Function</span></header><section><div><p>Returns an initial primal bound for a pricing subproblem. Default value should be +/- infinite depending on the optimization sense.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/atoptima/Coluna.jl/blob/9d0f7cbb3d7cd56500e04481a453dbc6453f566c/src/ColGen/pricing.jl#L49-L52">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Coluna.ColGen.compute_sp_init_db" href="#Coluna.ColGen.compute_sp_init_db"><code>Coluna.ColGen.compute_sp_init_db</code></a> — <span class="docstring-category">Function</span></header><section><div><p>Returns an initial dual bound for a pricing subproblem. Default value should be +/- infinite depending on the optimization sense.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/atoptima/Coluna.jl/blob/9d0f7cbb3d7cd56500e04481a453dbc6453f566c/src/ColGen/pricing.jl#L43-L46">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Coluna.ColGen.compute_dual_bound" href="#Coluna.ColGen.compute_dual_bound"><code>Coluna.ColGen.compute_dual_bound</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">compute_dual_bound(ctx, phase, master_lp_obj_val, master_dbs, generated_columns, mast_dual_sol) -&gt; Float64</code></pre><p>Caculates the dual bound at a given iteration of column generation. The dual bound is composed of:</p><ul><li><code>master_lp_obj_val</code>: objective value of the master LP problem</li><li><code>master_dbs</code>: dual values of the pricing subproblems</li><li>the contribution of the master convexity constraints that you should compute from <code>mast_dual_sol</code>.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/atoptima/Coluna.jl/blob/9d0f7cbb3d7cd56500e04481a453dbc6453f566c/src/ColGen/interface.jl#L248-L256">source</a></section></article><p>Go back to the <a href="#Column-generation-iteration">column generation iteration overview</a>.</p><h4 id="Columns-insertion"><a class="docs-heading-anchor" href="#Columns-insertion">Columns insertion</a><a id="Columns-insertion-1"></a><a class="docs-heading-anchor-permalink" href="#Columns-insertion" title="Permalink"></a></h4><p>Lorem ipsum.</p><p><strong>Reference</strong>:</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Coluna.ColGen.insert_columns!" href="#Coluna.ColGen.insert_columns!"><code>Coluna.ColGen.insert_columns!</code></a> — <span class="docstring-category">Function</span></header><section><div><p>Inserts columns into the master. Returns the number of columns inserted. Implementation is responsible for checking if the column must be inserted and warn the user if something unexpected happens.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/atoptima/Coluna.jl/blob/9d0f7cbb3d7cd56500e04481a453dbc6453f566c/src/ColGen/interface.jl#L240-L244">source</a></section></article><p>Go back to the <a href="#Column-generation-iteration">column generation iteration overview</a>.</p><h4 id="Iteration-output"><a class="docs-heading-anchor" href="#Iteration-output">Iteration output</a><a id="Iteration-output-1"></a><a class="docs-heading-anchor-permalink" href="#Iteration-output" title="Permalink"></a></h4><p>Lorem ipsum.</p><p>Go back to the <a href="#Column-generation-iteration">column generation iteration overview</a>.</p><h3 id="Stabilization"><a class="docs-heading-anchor" href="#Stabilization">Stabilization</a><a id="Stabilization-1"></a><a class="docs-heading-anchor-permalink" href="#Stabilization" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Coluna.ColGen.setup_stabilization!" href="#Coluna.ColGen.setup_stabilization!"><code>Coluna.ColGen.setup_stabilization!</code></a> — <span class="docstring-category">Function</span></header><section><div><p>Returns an instance of a data structure that contain information about the stabilization used in the column generation algorithm.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/atoptima/Coluna.jl/blob/9d0f7cbb3d7cd56500e04481a453dbc6453f566c/src/ColGen/stabilization.jl#L1-L4">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Coluna.ColGen.update_stabilization_after_master_optim!" href="#Coluna.ColGen.update_stabilization_after_master_optim!"><code>Coluna.ColGen.update_stabilization_after_master_optim!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">update_stabilization_after_master_optim!(stab, phase, mast_dual_sol) -&gt; Bool</code></pre><p>Update stabilization after master optimization where <code>mast_dual_sol</code> is the dual solution to the master problem. Returns <code>true</code> if the stabilization will change the dual solution used for the pricing in the current  column generation iteration, <code>false</code> otherwise.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/atoptima/Coluna.jl/blob/9d0f7cbb3d7cd56500e04481a453dbc6453f566c/src/ColGen/stabilization.jl#L7-L14">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Coluna.ColGen.get_master_dual_sol" href="#Coluna.ColGen.get_master_dual_sol"><code>Coluna.ColGen.get_master_dual_sol</code></a> — <span class="docstring-category">Function</span></header><section><div><p>Returns the dual solution used for the pricing in the current column generation iteration (stabilized dual solution).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/atoptima/Coluna.jl/blob/9d0f7cbb3d7cd56500e04481a453dbc6453f566c/src/ColGen/stabilization.jl#L17-L20">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Coluna.ColGen.check_misprice" href="#Coluna.ColGen.check_misprice"><code>Coluna.ColGen.check_misprice</code></a> — <span class="docstring-category">Function</span></header><section><div><p>Returns <code>true</code> if the stabilized dual solution leads to a misprice, <code>false</code> otherwise.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/atoptima/Coluna.jl/blob/9d0f7cbb3d7cd56500e04481a453dbc6453f566c/src/ColGen/stabilization.jl#L23">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Coluna.ColGen.update_stabilization_after_pricing_optim!" href="#Coluna.ColGen.update_stabilization_after_pricing_optim!"><code>Coluna.ColGen.update_stabilization_after_pricing_optim!</code></a> — <span class="docstring-category">Function</span></header><section><div><p>Updates stabilization after pricing optimization where:</p><ul><li><code>mast_dual_sol</code> is the dual solution to the master problem</li><li><code>valid_db</code> is the valid dual bound of the problem after optimization of the pricing problems</li><li><code>pseudo_db</code> is the pseudo dual bound of the problem after optimization of the pricing problems</li><li><code>mast_dual_sol</code> is the dual solution to the master problem</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/atoptima/Coluna.jl/blob/9d0f7cbb3d7cd56500e04481a453dbc6453f566c/src/ColGen/stabilization.jl#L26-L32">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Coluna.ColGen.update_stabilization_after_misprice!" href="#Coluna.ColGen.update_stabilization_after_misprice!"><code>Coluna.ColGen.update_stabilization_after_misprice!</code></a> — <span class="docstring-category">Function</span></header><section><div><p>Updates stabilization after a misprice. Argument <code>mast_dual_sol</code> is the dual solution to the master problem.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/atoptima/Coluna.jl/blob/9d0f7cbb3d7cd56500e04481a453dbc6453f566c/src/ColGen/stabilization.jl#L35-L38">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Coluna.ColGen.update_stabilization_after_iter!" href="#Coluna.ColGen.update_stabilization_after_iter!"><code>Coluna.ColGen.update_stabilization_after_iter!</code></a> — <span class="docstring-category">Function</span></header><section><div><p>Updates stabilization after an iteration of the column generation algorithm. Arguments:</p><ul><li><code>stab</code> is the stabilization data structure</li><li><code>ctx</code> is the column generation context</li><li><code>master</code> is the master problem</li><li><code>generated_columns</code> is the set of generated columns</li><li><code>mast_dual_sol</code> is the dual solution to the master problem</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/atoptima/Coluna.jl/blob/9d0f7cbb3d7cd56500e04481a453dbc6453f566c/src/ColGen/stabilization.jl#L41-L48">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Coluna.ColGen.get_output_str" href="#Coluna.ColGen.get_output_str"><code>Coluna.ColGen.get_output_str</code></a> — <span class="docstring-category">Function</span></header><section><div><p>Returns a string with a short information about the stabilization.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/atoptima/Coluna.jl/blob/9d0f7cbb3d7cd56500e04481a453dbc6453f566c/src/ColGen/stabilization.jl#L51">source</a></section></article><script type="module">import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs';
mermaid.initialize({
    startOnLoad: true,
    theme: "neutral"
});
</script></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../branching/">« Branching</a><a class="docs-footer-nextpage" href="../treesearch/">TreeSearch »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.28.0-DEV on <span class="colophon-date" title="Monday 26 June 2023 11:18">Monday 26 June 2023</span>. Using Julia version 1.9.1.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
