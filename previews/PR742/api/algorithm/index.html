<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Algorithm API · Coluna User Guide</title><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script><script src="../../assets/js/init.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../../">Coluna User Guide</a></span></div><form class="docs-search" action="../../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../../">Introduction</a></li><li><input class="collapse-toggle" id="menuitem-2" type="checkbox"/><label class="tocitem" for="menuitem-2"><span class="docs-label">Getting started</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../start/start/">Column generation</a></li><li><a class="tocitem" href="../../start/cuts/">Valid inequalities</a></li><li><a class="tocitem" href="../../start/pricing/">Pricing callback</a></li><li><a class="tocitem" href="../../start/initial_columns/">Initial columns callback</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-3" type="checkbox"/><label class="tocitem" for="menuitem-3"><span class="docs-label">Manual</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../man/decomposition/">Decomposition</a></li><li><a class="tocitem" href="../../man/config/">Configuration</a></li><li><a class="tocitem" href="../../man/algorithm/">Algorithms</a></li><li><a class="tocitem" href="../../man/callbacks/">Callbacks</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-4" type="checkbox"/><label class="tocitem" for="menuitem-4"><span class="docs-label">API</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../treesearch/">Tree Search</a></li><li><a class="tocitem" href="../storage/">Storage</a></li><li><a class="tocitem" href="../branching/">Branching</a></li></ul></li><li><a class="tocitem" href="../../dynamic_sparse_arrays/">Dynamic Sparse Arrays</a></li><li><a class="tocitem" href="../../qa/">Q&amp;A</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Algorithm API</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Algorithm API</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/atoptima/Coluna.jl/blob/master/docs/src/api/algorithm.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Algorithm-API"><a class="docs-heading-anchor" href="#Algorithm-API">Algorithm API</a><a id="Algorithm-API-1"></a><a class="docs-heading-anchor-permalink" href="#Algorithm-API" title="Permalink"></a></h1><div class="admonition is-danger"><header class="admonition-header">Danger</header><div class="admonition-body"><p>This is WIP. The API will change in future releases.</p></div></div><p>An algorithm is a procedure that given a model and and input performs some operations and  returns an output.</p><article class="docstring"><header><a class="docstring-binding" id="Coluna.Algorithm.run!" href="#Coluna.Algorithm.run!"><code>Coluna.Algorithm.run!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">run!(algo::AbstractAlgorithm, env, model, input)</code></pre><p>Runs an algorithm. </p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/atoptima/Coluna.jl/blob/90eebeb4bb4ddc1740135d9147e5a7fdb0b1c951/src/Algorithm/interface.jl#L8-L11">source</a></section></article><p>Parameters of an algorithm may contain its child algorithms which used by it. Therefore,  the algoirthm tree is formed, in which the root is the algorithm called to solver the model  (root algorithm should be an optimization algorithm, see below). </p><blockquote><p>TODO: explain why the parent algorithm must manage the records/storages of child algorithm.</p></blockquote><p>Algorithms are divided into two types : &quot;manager algorithms&quot; and &quot;worker algorithms&quot;.  Worker algorithms just continue the calculation. They do not store and restore units  as they suppose it is done by their master algorithms. Manager algorithms may divide  the calculation flow into parts. Therefore, they store and restore units to make sure  that their child worker algorithms have units prepared.  A worker algorithm cannot have child manager algorithms. </p><p>Examples of manager algorithms : TreeSearchAlgorithm (which covers both BCP algorithm and  diving algorithm), conquer algorithms, strong branching, branching rule algorithms  (which create child nodes). Examples of worker algorithms : column generation, SolveIpForm,  SolveLpForm, cut separation, pricing algorithms, etc.</p><h2 id="Optimization-algorithms"><a class="docs-heading-anchor" href="#Optimization-algorithms">Optimization algorithms</a><a id="Optimization-algorithms-1"></a><a class="docs-heading-anchor-permalink" href="#Optimization-algorithms" title="Permalink"></a></h2><p>Optimization algorithms return an <code>OptimizationState</code>.</p><article class="docstring"><header><a class="docstring-binding" id="Coluna.Algorithm.OptimizationState" href="#Coluna.Algorithm.OptimizationState"><code>Coluna.Algorithm.OptimizationState</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">OptimizationState(
    form; 
    termination_status = OPTIMIZE_NOT_CALLED,
    ip_primal_bound = nothing, 
    ip_dual_bound = nothing, 
    lp_primal_bound = nothing, 
    lp_dual_bound = nothing,
    max_length_ip_primal_sols = 1, 
    max_length_lp_primal_sols = 1, 
    max_length_lp_dual_sols = 1,
    insert_function_ip_primal_sols = bestbound!, 
    insert_function_lp_primal_sols = bestbound!, 
    insert_function_lp_dual_sols = bestbound!
)</code></pre><p>A convenient structure to maintain and return solutions and bounds of a formulation <code>form</code> during an optimization process. The termination status is <code>OPTIMIZE_NOT_CALLED</code> by default. You can define the initial incumbent bounds using <code>ip_primal_bound</code>, <code>ip_dual_bound</code>, <code>lp_primal_bound</code>, and <code>lp_primal_bound</code> keyword arguments. Incumbent bounds are set to infinite (according to formulation objective sense) by default. You can store three types of solutions <code>ip_primal_sols</code>, <code>lp_primal_sols</code>, and <code>lp_dual_sols</code>. These solutions are stored in three lists. Keywords <code>max_length_ip_primal_sols</code>, <code>max_length_lp_primal_sols</code>, and <code>max_length_lp_dual_sols</code> let you define the maximum size of the lists. Keywords <code>insert_function_ip_primal_sols</code>, <code>insert_function_lp_primal_sols</code>, and <code>insert_function_lp_dual_sols</code> let you provide a function to define the way you want to insert a new solution in each list. By default, lists are sorted by best bound.</p><p>You can also create an <code>OptimizationState</code> from another one : </p><pre><code class="nohighlight hljs">OptimizationState(
    form, source_state, copy_ip_primal_sol, copy_lp_primal_sol
)</code></pre><p>It copies the termination status, all the bounds of <code>source_state</code>. If copies the best IP primal solution when <code>copy_ip_primal_sol</code> equals <code>true</code> and the best LP primal solution when <code>copy_lp_primal_sol</code> equals <code>true</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/atoptima/Coluna.jl/blob/90eebeb4bb4ddc1740135d9147e5a7fdb0b1c951/src/Algorithm/utilities/optimizationstate.jl#L30-L68">source</a></section></article><h3 id="Conventions"><a class="docs-heading-anchor" href="#Conventions">Conventions</a><a id="Conventions-1"></a><a class="docs-heading-anchor-permalink" href="#Conventions" title="Permalink"></a></h3><blockquote><p>TODO: WIP</p></blockquote><ul><li><strong>infeasible</strong>: infinite bounds, no solution, infeasible termination status.</li></ul></article><nav class="docs-footer"><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.23 on <span class="colophon-date" title="Wednesday 5 October 2022 12:21">Wednesday 5 October 2022</span>. Using Julia version 1.8.2.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
